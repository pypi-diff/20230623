# Comparing `tmp/clearml_agent-1.5.3rc3-py3-none-any.whl.zip` & `tmp/clearml_agent-1.5.3rc4-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,131 +1,131 @@
-Zip file size: 402333 bytes, number of entries: 129
--rw-r--r--  2.0 unx       50 b- defN 23-May-21 19:58 clearml_agent/__init__.py
--rw-r--r--  2.0 unx     2891 b- defN 23-May-21 19:58 clearml_agent/__main__.py
--rw-r--r--  2.0 unx     2410 b- defN 23-May-21 19:58 clearml_agent/complete.py
--rw-r--r--  2.0 unx      736 b- defN 23-May-21 19:58 clearml_agent/config.py
--rw-r--r--  2.0 unx    11127 b- defN 23-May-21 19:58 clearml_agent/definitions.py
--rw-r--r--  2.0 unx     2826 b- defN 23-May-21 19:58 clearml_agent/errors.py
--rw-r--r--  2.0 unx    15942 b- defN 23-May-21 19:58 clearml_agent/session.py
--rw-r--r--  2.0 unx       25 b- defN 23-May-21 19:58 clearml_agent/version.py
--rw-r--r--  2.0 unx      123 b- defN 23-May-21 19:58 clearml_agent/backend_api/__init__.py
--rw-r--r--  2.0 unx     4786 b- defN 23-May-21 19:58 clearml_agent/backend_api/utils.py
--rw-r--r--  2.0 unx      561 b- defN 23-May-21 19:58 clearml_agent/backend_api/config/__init__.py
--rw-r--r--  2.0 unx    19804 b- defN 23-May-21 19:58 clearml_agent/backend_api/config/default/agent.conf
--rw-r--r--  2.0 unx     1796 b- defN 23-May-21 19:58 clearml_agent/backend_api/config/default/api.conf
--rw-r--r--  2.0 unx       92 b- defN 23-May-21 19:58 clearml_agent/backend_api/config/default/logging.conf
--rw-r--r--  2.0 unx     6857 b- defN 23-May-21 19:58 clearml_agent/backend_api/config/default/sdk.conf
--rw-r--r--  2.0 unx        0 b- defN 23-May-21 19:58 clearml_agent/backend_api/schema/__init__.py
--rw-r--r--  2.0 unx     1295 b- defN 23-May-21 19:58 clearml_agent/backend_api/schema/action.py
--rw-r--r--  2.0 unx     6824 b- defN 23-May-21 19:58 clearml_agent/backend_api/schema/service.py
--rw-r--r--  2.0 unx      282 b- defN 23-May-21 19:58 clearml_agent/backend_api/services/__init__.py
--rw-r--r--  2.0 unx        0 b- defN 23-May-21 19:58 clearml_agent/backend_api/services/v2_4/__init__.py
--rw-r--r--  2.0 unx    17434 b- defN 23-May-21 19:58 clearml_agent/backend_api/services/v2_4/auth.py
--rw-r--r--  2.0 unx     4029 b- defN 23-May-21 19:58 clearml_agent/backend_api/services/v2_4/debug.py
--rw-r--r--  2.0 unx    89217 b- defN 23-May-21 19:58 clearml_agent/backend_api/services/v2_4/events.py
--rw-r--r--  2.0 unx    90805 b- defN 23-May-21 19:58 clearml_agent/backend_api/services/v2_4/models.py
--rw-r--r--  2.0 unx    66636 b- defN 23-May-21 19:58 clearml_agent/backend_api/services/v2_4/queues.py
--rw-r--r--  2.0 unx   218713 b- defN 23-May-21 19:58 clearml_agent/backend_api/services/v2_4/tasks.py
--rw-r--r--  2.0 unx    77983 b- defN 23-May-21 19:58 clearml_agent/backend_api/services/v2_4/workers.py
--rw-r--r--  2.0 unx        0 b- defN 23-May-21 19:58 clearml_agent/backend_api/services/v2_5/__init__.py
--rw-r--r--  2.0 unx    17434 b- defN 23-May-21 19:58 clearml_agent/backend_api/services/v2_5/auth.py
--rw-r--r--  2.0 unx     4029 b- defN 23-May-21 19:58 clearml_agent/backend_api/services/v2_5/debug.py
--rw-r--r--  2.0 unx    90043 b- defN 23-May-21 19:58 clearml_agent/backend_api/services/v2_5/events.py
--rw-r--r--  2.0 unx    90805 b- defN 23-May-21 19:58 clearml_agent/backend_api/services/v2_5/models.py
--rw-r--r--  2.0 unx    66636 b- defN 23-May-21 19:58 clearml_agent/backend_api/services/v2_5/queues.py
--rw-r--r--  2.0 unx   234295 b- defN 23-May-21 19:58 clearml_agent/backend_api/services/v2_5/tasks.py
--rw-r--r--  2.0 unx    77996 b- defN 23-May-21 19:58 clearml_agent/backend_api/services/v2_5/workers.py
--rw-r--r--  2.0 unx      338 b- defN 23-May-21 19:58 clearml_agent/backend_api/session/__init__.py
--rw-r--r--  2.0 unx      156 b- defN 23-May-21 19:58 clearml_agent/backend_api/session/apimodel.py
--rw-r--r--  2.0 unx     5233 b- defN 23-May-21 19:58 clearml_agent/backend_api/session/callresult.py
--rw-r--r--  2.0 unx     4598 b- defN 23-May-21 19:58 clearml_agent/backend_api/session/datamodel.py
--rw-r--r--  2.0 unx     1877 b- defN 23-May-21 19:58 clearml_agent/backend_api/session/defs.py
--rw-r--r--  2.0 unx      345 b- defN 23-May-21 19:58 clearml_agent/backend_api/session/errors.py
--rw-r--r--  2.0 unx     2817 b- defN 23-May-21 19:58 clearml_agent/backend_api/session/request.py
--rw-r--r--  2.0 unx     1932 b- defN 23-May-21 19:58 clearml_agent/backend_api/session/response.py
--rw-r--r--  2.0 unx    27875 b- defN 23-May-21 19:58 clearml_agent/backend_api/session/session.py
--rw-r--r--  2.0 unx     4200 b- defN 23-May-21 19:58 clearml_agent/backend_api/session/token_manager.py
--rw-r--r--  2.0 unx       55 b- defN 23-May-21 19:58 clearml_agent/backend_api/session/client/__init__.py
--rw-r--r--  2.0 unx    16055 b- defN 23-May-21 19:58 clearml_agent/backend_api/session/client/client.py
--rw-r--r--  2.0 unx      175 b- defN 23-May-21 19:58 clearml_agent/backend_api/session/jsonmodels/__init__.py
--rw-r--r--  2.0 unx     6397 b- defN 23-May-21 19:58 clearml_agent/backend_api/session/jsonmodels/builders.py
--rw-r--r--  2.0 unx      552 b- defN 23-May-21 19:58 clearml_agent/backend_api/session/jsonmodels/collections.py
--rw-r--r--  2.0 unx      145 b- defN 23-May-21 19:58 clearml_agent/backend_api/session/jsonmodels/errors.py
--rw-r--r--  2.0 unx    13503 b- defN 23-May-21 19:58 clearml_agent/backend_api/session/jsonmodels/fields.py
--rw-r--r--  2.0 unx     4738 b- defN 23-May-21 19:58 clearml_agent/backend_api/session/jsonmodels/models.py
--rw-r--r--  2.0 unx     2993 b- defN 23-May-21 19:58 clearml_agent/backend_api/session/jsonmodels/parsers.py
--rw-r--r--  2.0 unx     4006 b- defN 23-May-21 19:58 clearml_agent/backend_api/session/jsonmodels/utilities.py
--rw-r--r--  2.0 unx     6294 b- defN 23-May-21 19:58 clearml_agent/backend_api/session/jsonmodels/validators.py
--rw-r--r--  2.0 unx      109 b- defN 23-May-21 19:58 clearml_agent/backend_config/__init__.py
--rw-r--r--  2.0 unx    12445 b- defN 23-May-21 19:58 clearml_agent/backend_config/config.py
--rw-r--r--  2.0 unx     1704 b- defN 23-May-21 19:58 clearml_agent/backend_config/converters.py
--rw-r--r--  2.0 unx     1776 b- defN 23-May-21 19:58 clearml_agent/backend_config/defs.py
--rw-r--r--  2.0 unx     3531 b- defN 23-May-21 19:58 clearml_agent/backend_config/entry.py
--rw-r--r--  2.0 unx     2163 b- defN 23-May-21 19:58 clearml_agent/backend_config/environment.py
--rw-r--r--  2.0 unx      186 b- defN 23-May-21 19:58 clearml_agent/backend_config/errors.py
--rw-r--r--  2.0 unx      851 b- defN 23-May-21 19:58 clearml_agent/backend_config/log.py
--rw-r--r--  2.0 unx     3815 b- defN 23-May-21 19:58 clearml_agent/backend_config/utils.py
--rw-r--r--  2.0 unx       99 b- defN 23-May-21 19:58 clearml_agent/commands/__init__.py
--rw-r--r--  2.0 unx    15160 b- defN 23-May-21 19:58 clearml_agent/commands/base.py
--rw-r--r--  2.0 unx      536 b- defN 23-May-21 19:58 clearml_agent/commands/check_config.py
--rw-r--r--  2.0 unx    17027 b- defN 23-May-21 19:58 clearml_agent/commands/config.py
--rw-r--r--  2.0 unx     3204 b- defN 23-May-21 19:58 clearml_agent/commands/events.py
--rw-r--r--  2.0 unx     6554 b- defN 23-May-21 19:58 clearml_agent/commands/resolver.py
--rw-r--r--  2.0 unx   189757 b- defN 23-May-21 19:58 clearml_agent/commands/worker.py
--rw-r--r--  2.0 unx        0 b- defN 23-May-21 19:58 clearml_agent/external/__init__.py
--rw-r--r--  2.0 unx      256 b- defN 23-May-21 19:58 clearml_agent/external/pyhocon/__init__.py
--rw-r--r--  2.0 unx    32918 b- defN 23-May-21 19:58 clearml_agent/external/pyhocon/config_parser.py
--rw-r--r--  2.0 unx    22532 b- defN 23-May-21 19:58 clearml_agent/external/pyhocon/config_tree.py
--rw-r--r--  2.0 unx    13100 b- defN 23-May-21 19:58 clearml_agent/external/pyhocon/converter.py
--rw-r--r--  2.0 unx      352 b- defN 23-May-21 19:58 clearml_agent/external/pyhocon/exceptions.py
--rw-r--r--  2.0 unx      353 b- defN 23-May-21 19:58 clearml_agent/external/requirements_parser/__init__.py
--rw-r--r--  2.0 unx     1298 b- defN 23-May-21 19:58 clearml_agent/external/requirements_parser/fragment.py
--rw-r--r--  2.0 unx     2368 b- defN 23-May-21 19:58 clearml_agent/external/requirements_parser/parser.py
--rw-r--r--  2.0 unx     9362 b- defN 23-May-21 19:58 clearml_agent/external/requirements_parser/requirement.py
--rw-r--r--  2.0 unx      405 b- defN 23-May-21 19:58 clearml_agent/external/requirements_parser/vcs.py
--rw-r--r--  2.0 unx        1 b- defN 23-May-21 19:58 clearml_agent/glue/__init__.py
--rw-r--r--  2.0 unx      316 b- defN 23-May-21 19:58 clearml_agent/glue/definitions.py
--rw-r--r--  2.0 unx    47157 b- defN 23-May-21 19:58 clearml_agent/glue/k8s.py
--rw-r--r--  2.0 unx        0 b- defN 23-May-21 19:58 clearml_agent/helper/__init__.py
--rw-r--r--  2.0 unx    18556 b- defN 23-May-21 19:58 clearml_agent/helper/base.py
--rw-r--r--  2.0 unx     2200 b- defN 23-May-21 19:58 clearml_agent/helper/check_update.py
--rw-r--r--  2.0 unx     3650 b- defN 23-May-21 19:58 clearml_agent/helper/console.py
--rw-r--r--  2.0 unx      828 b- defN 23-May-21 19:58 clearml_agent/helper/dicts.py
--rw-r--r--  2.0 unx     3403 b- defN 23-May-21 19:58 clearml_agent/helper/docker_args.py
--rw-r--r--  2.0 unx    15065 b- defN 23-May-21 19:58 clearml_agent/helper/process.py
--rw-r--r--  2.0 unx    30196 b- defN 23-May-21 19:58 clearml_agent/helper/repo.py
--rw-r--r--  2.0 unx    11656 b- defN 23-May-21 19:58 clearml_agent/helper/resource_monitor.py
--rw-r--r--  2.0 unx     5470 b- defN 23-May-21 19:58 clearml_agent/helper/runtime_verification.py
--rw-r--r--  2.0 unx     6697 b- defN 23-May-21 19:58 clearml_agent/helper/singleton.py
--rw-r--r--  2.0 unx     4759 b- defN 23-May-21 19:58 clearml_agent/helper/trace.py
--rw-r--r--  2.0 unx        0 b- defN 23-May-21 19:58 clearml_agent/helper/gpu/__init__.py
--rw-r--r--  2.0 unx    14101 b- defN 23-May-21 19:58 clearml_agent/helper/gpu/gpustat.py
--rw-r--r--  2.0 unx   122691 b- defN 23-May-21 19:58 clearml_agent/helper/gpu/pynvml.py
--rw-r--r--  2.0 unx        0 b- defN 23-May-21 19:58 clearml_agent/helper/os/__init__.py
--rw-r--r--  2.0 unx     2949 b- defN 23-May-21 19:58 clearml_agent/helper/os/daemonize.py
--rw-r--r--  2.0 unx     9311 b- defN 23-May-21 19:58 clearml_agent/helper/os/folder_cache.py
--rw-r--r--  2.0 unx     6180 b- defN 23-May-21 19:58 clearml_agent/helper/os/locks.py
--rw-r--r--  2.0 unx     6966 b- defN 23-May-21 19:58 clearml_agent/helper/os/portalocker.py
--rw-r--r--  2.0 unx        0 b- defN 23-May-21 19:58 clearml_agent/helper/package/__init__.py
--rw-r--r--  2.0 unx    11518 b- defN 23-May-21 19:58 clearml_agent/helper/package/base.py
--rw-r--r--  2.0 unx    32312 b- defN 23-May-21 19:58 clearml_agent/helper/package/conda_api.py
--rw-r--r--  2.0 unx     8224 b- defN 23-May-21 19:58 clearml_agent/helper/package/external_req.py
--rw-r--r--  2.0 unx     6181 b- defN 23-May-21 19:58 clearml_agent/helper/package/poetry_api.py
--rw-r--r--  2.0 unx     1764 b- defN 23-May-21 19:58 clearml_agent/helper/package/post_req.py
--rw-r--r--  2.0 unx     4257 b- defN 23-May-21 19:58 clearml_agent/helper/package/priority_req.py
--rw-r--r--  2.0 unx    40778 b- defN 23-May-21 19:58 clearml_agent/helper/package/pytorch.py
--rw-r--r--  2.0 unx    31340 b- defN 23-May-21 19:58 clearml_agent/helper/package/requirements.py
--rw-r--r--  2.0 unx     3452 b- defN 23-May-21 19:58 clearml_agent/helper/package/translator.py
--rw-r--r--  2.0 unx     3401 b- defN 23-May-21 19:58 clearml_agent/helper/package/venv_update_api.py
--rw-r--r--  2.0 unx        0 b- defN 23-May-21 19:58 clearml_agent/helper/package/pip_api/__init__.py
--rw-r--r--  2.0 unx     3360 b- defN 23-May-21 19:58 clearml_agent/helper/package/pip_api/system.py
--rw-r--r--  2.0 unx     2951 b- defN 23-May-21 19:58 clearml_agent/helper/package/pip_api/venv.py
--rw-r--r--  2.0 unx     1244 b- defN 23-May-21 19:58 clearml_agent/interface/__init__.py
--rw-r--r--  2.0 unx    15036 b- defN 23-May-21 19:58 clearml_agent/interface/base.py
--rw-r--r--  2.0 unx     9937 b- defN 23-May-21 19:58 clearml_agent/interface/worker.py
--rw-r--r--  2.0 unx    11340 b- defN 23-May-21 19:59 clearml_agent-1.5.3rc3.dist-info/LICENSE
--rw-r--r--  2.0 unx    18199 b- defN 23-May-21 19:59 clearml_agent-1.5.3rc3.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-May-21 19:59 clearml_agent-1.5.3rc3.dist-info/WHEEL
--rw-r--r--  2.0 unx       63 b- defN 23-May-21 19:59 clearml_agent-1.5.3rc3.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       14 b- defN 23-May-21 19:59 clearml_agent-1.5.3rc3.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx    12619 b- defN 23-May-21 19:59 clearml_agent-1.5.3rc3.dist-info/RECORD
-129 files, 2200861 bytes uncompressed, 381821 bytes compressed:  82.7%
+Zip file size: 403035 bytes, number of entries: 129
+-rw-r--r--  2.0 unx       50 b- defN 23-Jun-15 07:28 clearml_agent/__init__.py
+-rw-r--r--  2.0 unx     2891 b- defN 23-Jun-15 07:28 clearml_agent/__main__.py
+-rw-r--r--  2.0 unx     2410 b- defN 23-Jun-15 07:28 clearml_agent/complete.py
+-rw-r--r--  2.0 unx      736 b- defN 23-Jun-15 07:28 clearml_agent/config.py
+-rw-r--r--  2.0 unx    11218 b- defN 23-Jun-15 07:28 clearml_agent/definitions.py
+-rw-r--r--  2.0 unx     2826 b- defN 23-Jun-15 07:28 clearml_agent/errors.py
+-rw-r--r--  2.0 unx    15942 b- defN 23-Jun-15 07:28 clearml_agent/session.py
+-rw-r--r--  2.0 unx       25 b- defN 23-Jun-15 07:28 clearml_agent/version.py
+-rw-r--r--  2.0 unx      123 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/__init__.py
+-rw-r--r--  2.0 unx     4786 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/utils.py
+-rw-r--r--  2.0 unx      561 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/config/__init__.py
+-rw-r--r--  2.0 unx    20435 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/config/default/agent.conf
+-rw-r--r--  2.0 unx     1796 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/config/default/api.conf
+-rw-r--r--  2.0 unx       92 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/config/default/logging.conf
+-rw-r--r--  2.0 unx     6857 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/config/default/sdk.conf
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/schema/__init__.py
+-rw-r--r--  2.0 unx     1295 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/schema/action.py
+-rw-r--r--  2.0 unx     6824 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/schema/service.py
+-rw-r--r--  2.0 unx      282 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/services/__init__.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/services/v2_4/__init__.py
+-rw-r--r--  2.0 unx    17434 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/services/v2_4/auth.py
+-rw-r--r--  2.0 unx     4029 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/services/v2_4/debug.py
+-rw-r--r--  2.0 unx    89217 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/services/v2_4/events.py
+-rw-r--r--  2.0 unx    90805 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/services/v2_4/models.py
+-rw-r--r--  2.0 unx    66636 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/services/v2_4/queues.py
+-rw-r--r--  2.0 unx   218713 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/services/v2_4/tasks.py
+-rw-r--r--  2.0 unx    77983 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/services/v2_4/workers.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/services/v2_5/__init__.py
+-rw-r--r--  2.0 unx    17434 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/services/v2_5/auth.py
+-rw-r--r--  2.0 unx     4029 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/services/v2_5/debug.py
+-rw-r--r--  2.0 unx    90043 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/services/v2_5/events.py
+-rw-r--r--  2.0 unx    90805 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/services/v2_5/models.py
+-rw-r--r--  2.0 unx    66636 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/services/v2_5/queues.py
+-rw-r--r--  2.0 unx   234295 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/services/v2_5/tasks.py
+-rw-r--r--  2.0 unx    77996 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/services/v2_5/workers.py
+-rw-r--r--  2.0 unx      338 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/session/__init__.py
+-rw-r--r--  2.0 unx      156 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/session/apimodel.py
+-rw-r--r--  2.0 unx     5233 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/session/callresult.py
+-rw-r--r--  2.0 unx     4598 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/session/datamodel.py
+-rw-r--r--  2.0 unx     1963 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/session/defs.py
+-rw-r--r--  2.0 unx      345 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/session/errors.py
+-rw-r--r--  2.0 unx     2817 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/session/request.py
+-rw-r--r--  2.0 unx     1932 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/session/response.py
+-rw-r--r--  2.0 unx    28237 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/session/session.py
+-rw-r--r--  2.0 unx     4200 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/session/token_manager.py
+-rw-r--r--  2.0 unx       55 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/session/client/__init__.py
+-rw-r--r--  2.0 unx    16055 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/session/client/client.py
+-rw-r--r--  2.0 unx      175 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/session/jsonmodels/__init__.py
+-rw-r--r--  2.0 unx     6397 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/session/jsonmodels/builders.py
+-rw-r--r--  2.0 unx      552 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/session/jsonmodels/collections.py
+-rw-r--r--  2.0 unx      145 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/session/jsonmodels/errors.py
+-rw-r--r--  2.0 unx    13503 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/session/jsonmodels/fields.py
+-rw-r--r--  2.0 unx     4738 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/session/jsonmodels/models.py
+-rw-r--r--  2.0 unx     2993 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/session/jsonmodels/parsers.py
+-rw-r--r--  2.0 unx     4006 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/session/jsonmodels/utilities.py
+-rw-r--r--  2.0 unx     6294 b- defN 23-Jun-15 07:28 clearml_agent/backend_api/session/jsonmodels/validators.py
+-rw-r--r--  2.0 unx      109 b- defN 23-Jun-15 07:28 clearml_agent/backend_config/__init__.py
+-rw-r--r--  2.0 unx    12445 b- defN 23-Jun-15 07:28 clearml_agent/backend_config/config.py
+-rw-r--r--  2.0 unx     1704 b- defN 23-Jun-15 07:28 clearml_agent/backend_config/converters.py
+-rw-r--r--  2.0 unx     1776 b- defN 23-Jun-15 07:28 clearml_agent/backend_config/defs.py
+-rw-r--r--  2.0 unx     3531 b- defN 23-Jun-15 07:28 clearml_agent/backend_config/entry.py
+-rw-r--r--  2.0 unx     2163 b- defN 23-Jun-15 07:28 clearml_agent/backend_config/environment.py
+-rw-r--r--  2.0 unx      186 b- defN 23-Jun-15 07:28 clearml_agent/backend_config/errors.py
+-rw-r--r--  2.0 unx      851 b- defN 23-Jun-15 07:28 clearml_agent/backend_config/log.py
+-rw-r--r--  2.0 unx     4219 b- defN 23-Jun-15 07:28 clearml_agent/backend_config/utils.py
+-rw-r--r--  2.0 unx       99 b- defN 23-Jun-15 07:28 clearml_agent/commands/__init__.py
+-rw-r--r--  2.0 unx    15160 b- defN 23-Jun-15 07:28 clearml_agent/commands/base.py
+-rw-r--r--  2.0 unx      536 b- defN 23-Jun-15 07:28 clearml_agent/commands/check_config.py
+-rw-r--r--  2.0 unx    17027 b- defN 23-Jun-15 07:28 clearml_agent/commands/config.py
+-rw-r--r--  2.0 unx     3204 b- defN 23-Jun-15 07:28 clearml_agent/commands/events.py
+-rw-r--r--  2.0 unx     6552 b- defN 23-Jun-15 07:28 clearml_agent/commands/resolver.py
+-rw-r--r--  2.0 unx   191566 b- defN 23-Jun-15 07:28 clearml_agent/commands/worker.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-15 07:28 clearml_agent/external/__init__.py
+-rw-r--r--  2.0 unx      256 b- defN 23-Jun-15 07:28 clearml_agent/external/pyhocon/__init__.py
+-rw-r--r--  2.0 unx    32918 b- defN 23-Jun-15 07:28 clearml_agent/external/pyhocon/config_parser.py
+-rw-r--r--  2.0 unx    22532 b- defN 23-Jun-15 07:28 clearml_agent/external/pyhocon/config_tree.py
+-rw-r--r--  2.0 unx    13100 b- defN 23-Jun-15 07:28 clearml_agent/external/pyhocon/converter.py
+-rw-r--r--  2.0 unx      352 b- defN 23-Jun-15 07:28 clearml_agent/external/pyhocon/exceptions.py
+-rw-r--r--  2.0 unx      353 b- defN 23-Jun-15 07:28 clearml_agent/external/requirements_parser/__init__.py
+-rw-r--r--  2.0 unx     1298 b- defN 23-Jun-15 07:28 clearml_agent/external/requirements_parser/fragment.py
+-rw-r--r--  2.0 unx     2368 b- defN 23-Jun-15 07:28 clearml_agent/external/requirements_parser/parser.py
+-rw-r--r--  2.0 unx     9362 b- defN 23-Jun-15 07:28 clearml_agent/external/requirements_parser/requirement.py
+-rw-r--r--  2.0 unx      405 b- defN 23-Jun-15 07:28 clearml_agent/external/requirements_parser/vcs.py
+-rw-r--r--  2.0 unx        1 b- defN 23-Jun-15 07:28 clearml_agent/glue/__init__.py
+-rw-r--r--  2.0 unx      316 b- defN 23-Jun-15 07:28 clearml_agent/glue/definitions.py
+-rw-r--r--  2.0 unx    47157 b- defN 23-Jun-15 07:28 clearml_agent/glue/k8s.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-15 07:28 clearml_agent/helper/__init__.py
+-rw-r--r--  2.0 unx    18556 b- defN 23-Jun-15 07:28 clearml_agent/helper/base.py
+-rw-r--r--  2.0 unx     2200 b- defN 23-Jun-15 07:28 clearml_agent/helper/check_update.py
+-rw-r--r--  2.0 unx     3650 b- defN 23-Jun-15 07:28 clearml_agent/helper/console.py
+-rw-r--r--  2.0 unx      828 b- defN 23-Jun-15 07:28 clearml_agent/helper/dicts.py
+-rw-r--r--  2.0 unx     3403 b- defN 23-Jun-15 07:28 clearml_agent/helper/docker_args.py
+-rw-r--r--  2.0 unx    15065 b- defN 23-Jun-15 07:28 clearml_agent/helper/process.py
+-rw-r--r--  2.0 unx    30196 b- defN 23-Jun-15 07:28 clearml_agent/helper/repo.py
+-rw-r--r--  2.0 unx    11656 b- defN 23-Jun-15 07:28 clearml_agent/helper/resource_monitor.py
+-rw-r--r--  2.0 unx     5470 b- defN 23-Jun-15 07:28 clearml_agent/helper/runtime_verification.py
+-rw-r--r--  2.0 unx     6697 b- defN 23-Jun-15 07:28 clearml_agent/helper/singleton.py
+-rw-r--r--  2.0 unx     4759 b- defN 23-Jun-15 07:28 clearml_agent/helper/trace.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-15 07:28 clearml_agent/helper/gpu/__init__.py
+-rw-r--r--  2.0 unx    14101 b- defN 23-Jun-15 07:28 clearml_agent/helper/gpu/gpustat.py
+-rw-r--r--  2.0 unx   122691 b- defN 23-Jun-15 07:28 clearml_agent/helper/gpu/pynvml.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-15 07:28 clearml_agent/helper/os/__init__.py
+-rw-r--r--  2.0 unx     2949 b- defN 23-Jun-15 07:28 clearml_agent/helper/os/daemonize.py
+-rw-r--r--  2.0 unx     9311 b- defN 23-Jun-15 07:28 clearml_agent/helper/os/folder_cache.py
+-rw-r--r--  2.0 unx     6180 b- defN 23-Jun-15 07:28 clearml_agent/helper/os/locks.py
+-rw-r--r--  2.0 unx     6966 b- defN 23-Jun-15 07:28 clearml_agent/helper/os/portalocker.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-15 07:28 clearml_agent/helper/package/__init__.py
+-rw-r--r--  2.0 unx    11518 b- defN 23-Jun-15 07:28 clearml_agent/helper/package/base.py
+-rw-r--r--  2.0 unx    32312 b- defN 23-Jun-15 07:28 clearml_agent/helper/package/conda_api.py
+-rw-r--r--  2.0 unx     8224 b- defN 23-Jun-15 07:28 clearml_agent/helper/package/external_req.py
+-rw-r--r--  2.0 unx     6181 b- defN 23-Jun-15 07:28 clearml_agent/helper/package/poetry_api.py
+-rw-r--r--  2.0 unx     1764 b- defN 23-Jun-15 07:28 clearml_agent/helper/package/post_req.py
+-rw-r--r--  2.0 unx     4257 b- defN 23-Jun-15 07:28 clearml_agent/helper/package/priority_req.py
+-rw-r--r--  2.0 unx    40778 b- defN 23-Jun-15 07:28 clearml_agent/helper/package/pytorch.py
+-rw-r--r--  2.0 unx    31340 b- defN 23-Jun-15 07:28 clearml_agent/helper/package/requirements.py
+-rw-r--r--  2.0 unx     3452 b- defN 23-Jun-15 07:28 clearml_agent/helper/package/translator.py
+-rw-r--r--  2.0 unx     3401 b- defN 23-Jun-15 07:28 clearml_agent/helper/package/venv_update_api.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-15 07:28 clearml_agent/helper/package/pip_api/__init__.py
+-rw-r--r--  2.0 unx     3360 b- defN 23-Jun-15 07:28 clearml_agent/helper/package/pip_api/system.py
+-rw-r--r--  2.0 unx     2951 b- defN 23-Jun-15 07:28 clearml_agent/helper/package/pip_api/venv.py
+-rw-r--r--  2.0 unx     1244 b- defN 23-Jun-15 07:28 clearml_agent/interface/__init__.py
+-rw-r--r--  2.0 unx    15036 b- defN 23-Jun-15 07:28 clearml_agent/interface/base.py
+-rw-r--r--  2.0 unx     9937 b- defN 23-Jun-15 07:28 clearml_agent/interface/worker.py
+-rw-r--r--  2.0 unx    11340 b- defN 23-Jun-15 07:28 clearml_agent-1.5.3rc4.dist-info/LICENSE
+-rw-r--r--  2.0 unx    18199 b- defN 23-Jun-15 07:28 clearml_agent-1.5.3rc4.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jun-15 07:28 clearml_agent-1.5.3rc4.dist-info/WHEEL
+-rw-r--r--  2.0 unx       63 b- defN 23-Jun-15 07:28 clearml_agent-1.5.3rc4.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       14 b- defN 23-Jun-15 07:28 clearml_agent-1.5.3rc4.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx    12619 b- defN 23-Jun-15 07:28 clearml_agent-1.5.3rc4.dist-info/RECORD
+129 files, 2204242 bytes uncompressed, 382523 bytes compressed:  82.7%
```

## zipnote {}

```diff
@@ -363,26 +363,26 @@
 
 Filename: clearml_agent/interface/base.py
 Comment: 
 
 Filename: clearml_agent/interface/worker.py
 Comment: 
 
-Filename: clearml_agent-1.5.3rc3.dist-info/LICENSE
+Filename: clearml_agent-1.5.3rc4.dist-info/LICENSE
 Comment: 
 
-Filename: clearml_agent-1.5.3rc3.dist-info/METADATA
+Filename: clearml_agent-1.5.3rc4.dist-info/METADATA
 Comment: 
 
-Filename: clearml_agent-1.5.3rc3.dist-info/WHEEL
+Filename: clearml_agent-1.5.3rc4.dist-info/WHEEL
 Comment: 
 
-Filename: clearml_agent-1.5.3rc3.dist-info/entry_points.txt
+Filename: clearml_agent-1.5.3rc4.dist-info/entry_points.txt
 Comment: 
 
-Filename: clearml_agent-1.5.3rc3.dist-info/top_level.txt
+Filename: clearml_agent-1.5.3rc4.dist-info/top_level.txt
 Comment: 
 
-Filename: clearml_agent-1.5.3rc3.dist-info/RECORD
+Filename: clearml_agent-1.5.3rc4.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## clearml_agent/definitions.py

```diff
@@ -169,24 +169,24 @@
     "CLEARML_AGENT_K8S_HOST_MOUNT",
     "CLEARML_AGENT_DOCKER_HOST_MOUNT",
     "TRAINS_AGENT_K8S_HOST_MOUNT",
     "TRAINS_AGENT_DOCKER_HOST_MOUNT",
 )
 ENV_VENV_CACHE_PATH = EnvironmentConfig("CLEARML_AGENT_VENV_CACHE_PATH")
 ENV_EXTRA_DOCKER_ARGS = EnvironmentConfig("CLEARML_AGENT_EXTRA_DOCKER_ARGS", type=list)
+ENV_EXTRA_DOCKER_LABELS = EnvironmentConfig("CLEARML_AGENT_EXTRA_DOCKER_LABELS", type=list)
 ENV_DEBUG_INFO = EnvironmentConfig("CLEARML_AGENT_DEBUG_INFO")
 ENV_CHILD_AGENTS_COUNT_CMD = EnvironmentConfig("CLEARML_AGENT_CHILD_AGENTS_COUNT_CMD")
 ENV_DOCKER_ARGS_FILTERS = EnvironmentConfig("CLEARML_AGENT_DOCKER_ARGS_FILTERS")
 ENV_DOCKER_ARGS_HIDE_ENV = EnvironmentConfig("CLEARML_AGENT_DOCKER_ARGS_HIDE_ENV")
 ENV_CONFIG_BC_IN_STANDALONE = EnvironmentConfig("CLEARML_AGENT_STANDALONE_CONFIG_BC", type=bool)
 """ Maintain backwards compatible configuration when launching in standalone mode """
 
 ENV_FORCE_DOCKER_AGENT_REPO = EnvironmentConfig("FORCE_CLEARML_AGENT_REPO", "CLEARML_AGENT_DOCKER_AGENT_REPO")
 
-
 ENV_SERVICES_DOCKER_RESTART = EnvironmentConfig("CLEARML_AGENT_SERVICES_DOCKER_RESTART")
 """
     Specify a restart value for a services agent task containers.
     Note that when a restart value is provided, task containers will not be run with the '--rm' flag and will
      not be cleaned up automatically when completed (this will need to be done externally using the
      'docker container prune' command to free up resources).
     Value format for this env var is "<restart-value>;<task-selector>", where:
```

## clearml_agent/version.py

```diff
@@ -1 +1 @@
-__version__ = '1.5.3rc3'
+__version__ = '1.5.3rc4'
```

## clearml_agent/backend_api/config/default/agent.conf

```diff
@@ -94,27 +94,31 @@
         conda_channels: ["pytorch", "conda-forge", "defaults", ]
 
         # If set to true, Task's "installed packages" are ignored,
         # and the repository's "requirements.txt" is used instead
         # force_repo_requirements_txt: false
 
         # set the priority packages to be installed before the rest of the required packages
+        # Note: this only controls the installation order of existing requirement packages (and does not add additional packages)
         # priority_packages: ["cython", "numpy", "setuptools", ]
 
         # set the optional priority packages to be installed before the rest of the required packages,
         # In case a package installation fails, the package will be ignored,
         # and the virtual environment process will continue
+        # Note: this only controls the installation order of existing requirement packages (and does not add additional packages)
         priority_optional_packages: ["pygobject", ]
 
         # set the post packages to be installed after all the rest of the required packages
+        # Note: this only controls the installation order of existing requirement packages (and does not add additional packages)
         # post_packages: ["horovod", ]
 
         # set the optional post packages to be installed after all the rest of the required packages,
         # In case a package installation fails, the package will be ignored,
         # and the virtual environment process will continue
+        # Note: this only controls the installation order of existing requirement packages (and does not add additional packages)
         # post_optional_packages: []
 
         # set to True to support torch nightly build installation,
         # notice: torch nightly builds are ephemeral and are deleted from time to time
         torch_nightly: false,
 
         # if set to true, the agent will look for the "poetry.lock" file 
@@ -265,18 +269,23 @@
         vcs_cache: "/root/.clearml/vcs-cache"
         venv_build: "~/.clearml/venvs-builds"
         pip_download: "/root/.clearml/pip-download-cache"
     }
 
     # Name docker containers created by the daemon using the following string format (supported from Docker 0.6.5)
     # Allowed variables are task_id, worker_id and rand_string (random lower-case letters string, up to 32 characters)
+    # Custom variables may be specified using the docker_container_name_format_fields option.
     # Note: resulting name must start with an alphanumeric character and
     #       continue with alphanumeric characters, underscores (_), dots (.) and/or dashes (-)
     # docker_container_name_format: "clearml-id-{task_id}-{rand_string:.8}"
 
+    # Specify custom variables for the docker_container_name_format option using a mapping of variable name
+    # to a (nested) task field (using "." as a task field separator, digits specify array index)
+    # docker_container_name_format_fields: { foo: "bar.moo" }
+
     # Apply top-level environment section from configuration into os.environ
     apply_environment: true
     # Top-level environment section is in the form of:
     #   environment {
     #     key: value
     #     ...
     #   }
@@ -375,21 +384,14 @@
     #                         "repository": "",
     #                         "branch": "master"
     #                     },
     #                     "project": "example"
     #                 }
     #             },
     #             {
-    #                 "image": "better_container:tag",
-    #                 "arguments": "",
-    #                 "match": {
-    #                     "container": "replace_me_please"
-    #                 }
-    #             },
-    #             {
     #                 "image": "another_container:tag",
     #                 "arguments": "",
     #                 "match": {
     #                     "project": "^examples", # anything that starts with "examples", e.g. "examples", "examples/sub_project"
     #                 }
     #             }
     #         ]
```

## clearml_agent/backend_api/session/defs.py

```diff
@@ -16,14 +16,15 @@
 ENV_ENABLE_ENV_CONFIG_SECTION = EnvEntry('CLEARML_AGENT_ENABLE_ENV_CONFIG_SECTION', type=bool)
 ENV_ENABLE_FILES_CONFIG_SECTION = EnvEntry('CLEARML_AGENT_ENABLE_FILES_CONFIG_SECTION', type=bool)
 ENV_VENV_CONFIGURED = EnvEntry('VIRTUAL_ENV', type=str)
 ENV_PROPAGATE_EXITCODE = EnvEntry("CLEARML_AGENT_PROPAGATE_EXITCODE", type=bool, default=False)
 ENV_INITIAL_CONNECT_RETRY_OVERRIDE = EnvEntry(
     'CLEARML_AGENT_INITIAL_CONNECT_RETRY_OVERRIDE', default=True, converter=safe_text_to_bool
 )
+ENV_FORCE_MAX_API_VERSION = EnvEntry("CLEARML_AGENT_FORCE_MAX_API_VERSION", type=str)
 
 """
 Experimental option to set the request method for all API requests and auth login.
 This could be useful when GET requests with payloads are blocked by a server as
 POST requests can be used instead.
 
 However this has not been vigorously tested and may have unintended consequences.
```

## clearml_agent/backend_api/session/session.py

```diff
@@ -12,27 +12,26 @@
 import requests
 import six
 from requests import RequestException
 from requests.auth import HTTPBasicAuth
 from six.moves.urllib.parse import urlparse, urlunparse
 
 from clearml_agent.external.pyhocon import ConfigTree, ConfigFactory
-
 from .callresult import CallResult
 from .defs import (
     ENV_VERBOSE, ENV_HOST, ENV_ACCESS_KEY, ENV_SECRET_KEY, ENV_WEB_HOST, ENV_FILES_HOST, ENV_AUTH_TOKEN,
-    ENV_NO_DEFAULT_SERVER, ENV_DISABLE_VAULT_SUPPORT, ENV_INITIAL_CONNECT_RETRY_OVERRIDE, ENV_API_DEFAULT_REQ_METHOD, )
+    ENV_NO_DEFAULT_SERVER, ENV_DISABLE_VAULT_SUPPORT, ENV_INITIAL_CONNECT_RETRY_OVERRIDE, ENV_API_DEFAULT_REQ_METHOD,
+    ENV_FORCE_MAX_API_VERSION)
 from .request import Request, BatchRequest
 from .token_manager import TokenManager
 from ..config import load
 from ..utils import get_http_session_with_retry, urllib_log_warning_setup
 from ...backend_config.environment import backward_compatibility_support
 from ...version import __version__
 
-
 sys_random = SystemRandom()
 
 
 class LoginError(Exception):
     pass
 
 
@@ -60,14 +59,15 @@
     api_version = '2.1'
     feature_set = 'basic'
     default_host = "https://demoapi.demo.clear.ml"
     default_web = "https://demoapp.demo.clear.ml"
     default_files = "https://demofiles.demo.clear.ml"
     default_key = "EGRTCO8JMSIGI6S39GTP43NFWXDQOW"
     default_secret = "x!XTov_G-#vspE*Y(h$Anm&DIc5Ou-F)jsl$PdOyj5wG1&E!Z8"
+    force_max_api_version = ENV_FORCE_MAX_API_VERSION.get()
 
     # TODO: add requests.codes.gateway_timeout once we support async commits
     _retry_codes = [
         requests.codes.bad_gateway,
         requests.codes.service_unavailable,
         requests.codes.bandwidth_limit_exceeded,
         requests.codes.too_many_requests,
@@ -195,14 +195,18 @@
             pass
 
         # now setup the session reporting, so one consecutive retries will show warning
         # we do that here, so if we have problems authenticating, we see them immediately
         # notice: this is across the board warning omission
         urllib_log_warning_setup(total_retries=http_retries_config.get('total', 0), display_warning_after=3)
 
+        if self.force_max_api_version and self.check_min_api_version(self.force_max_api_version):
+            print("Using forced API version {}".format(self.force_max_api_version))
+            Session.max_api_version = Session.api_version = str(self.force_max_api_version)
+
     def _setup_session(self, http_retries_config, initial_session=False, default_initial_connect_override=None):
         # type: (dict, bool, Optional[bool]) -> (dict, requests.Session)
         http_retries_config = http_retries_config or self.config.get(
             "api.http.retries", ConfigTree()
         ).as_plain_ordered_dict()
         http_retries_config["status_forcelist"] = self._retry_codes
```

## clearml_agent/backend_config/utils.py

```diff
@@ -48,14 +48,15 @@
     print("Creating files from configuration")
     for key, data in files.items():
         path = data.get("path")
         fmt = data.get("format", "string")
         target_fmt = data.get("target_format", "string")
         overwrite = bool(data.get("overwrite", True))
         contents = data.get("contents")
+        mode = data.get("mode")
 
         target = Path(expanduser(expandvars(path)))
 
         # noinspection PyBroadException
         try:
             if target.is_dir():
                 print("Skipped [{}]: is a directory {}".format(key, target))
@@ -106,7 +107,18 @@
                     print("Skipped [{}]: failed encoding to {} ({})".format(key, target_fmt, ex))
                     continue
                 target.write_text(text)
             print("Saved [{}]: {}".format(key, target))
         except Exception as ex:
             print("Skipped [{}]: failed saving file {} ({})".format(key, target, ex))
             continue
+
+        try:
+            if mode:
+                if isinstance(mode, int):
+                    mode = int(str(mode), 8)
+                else:
+                    mode = int(mode, 8)
+                target.chmod(mode)
+        except Exception as ex:
+            print("Skipped [{}]: failed setting mode {} for {} ({})".format(key, mode, target, ex))
+            continue
```

## clearml_agent/commands/resolver.py

```diff
@@ -105,23 +105,23 @@
                 if not re.search(match.get('script.binary', None), binary):
                     continue
             except Exception:
                 print('Failed parsing regular expression \"{}\" in rule: {}'.format(
                     match.get('script.binary', None), entry))
                 continue
 
-        if match.get('container', None):
-            # noinspection PyBroadException
-            try:
-                if not re.search(match.get('container', None), requested_container.get('image', '')):
-                    continue
-            except Exception:
-                print('Failed parsing regular expression \"{}\" in rule: {}'.format(
-                    match.get('container', None), entry))
-                continue
+        # if match.get('image', None):
+        #     # noinspection PyBroadException
+        #     try:
+        #         if not re.search(match.get('image', None), requested_container.get('image', '')):
+        #             continue
+        #     except Exception:
+        #         print('Failed parsing regular expression \"{}\" in rule: {}'.format(
+        #             match.get('image', None), entry))
+        #         continue
 
         matched = True
         for req_section in ['script.requirements.pip', 'script.requirements.conda']:
             if not match.get(req_section, None):
                 continue
 
             match_pip_reqs = [MarkerRequirement(Requirement.parse('{} {}'.format(k, v)))
@@ -152,16 +152,16 @@
             if matched_all_reqs:
                 continue
             # no match stop
             matched = False
             break
 
         if matched:
-            if not container_config.get('container'):
-                container_config['container'] = entry.get('image', None)
+            if not container_config.get('image'):
+                container_config['image'] = entry.get('image', None)
             if not container_config.get('arguments'):
                 container_config['arguments'] = entry.get('arguments', None)
                 container_config['arguments'] = shlex.split(str(container_config.get('arguments') or '').strip())
             print('Matching default container with rule:\n{}'.format(json.dumps(entry)))
             return container_config
 
     return container_config
```

## clearml_agent/commands/worker.py

```diff
@@ -70,14 +70,15 @@
     ENV_DEBUG_INFO,
     ENV_CHILD_AGENTS_COUNT_CMD,
     ENV_DOCKER_ARGS_FILTERS,
     ENV_FORCE_SYSTEM_SITE_PACKAGES,
     ENV_SERVICES_DOCKER_RESTART,
     ENV_CONFIG_BC_IN_STANDALONE,
     ENV_FORCE_DOCKER_AGENT_REPO,
+    ENV_EXTRA_DOCKER_LABELS,
 )
 from clearml_agent.definitions import WORKING_REPOSITORY_DIR, PIP_EXTRA_INDICES
 from clearml_agent.errors import (
     APIError,
     CommandFailedError,
     Sigterm,
     SkippedCustomBuildScript,
@@ -315,14 +316,45 @@
         raise APIError(result)
     data = result.json().get('data')
     if data is None:
         raise APIError(result, extra_info="Invalid response")
     return data
 
 
+def get_task_fields(session, task_id, fields: list, log=None) -> dict:
+    """
+    Returns dict with Task docker container setup {container: '', arguments: '', setup_shell_script: ''}
+    """
+    result = session.send_request(
+        service='tasks',
+        action='get_all',
+        json={'id': [task_id], 'only_fields': list(fields), 'search_hidden': True},
+        method=Request.def_method,
+        async_enable=False,
+    )
+    # noinspection PyBroadException
+    try:
+        results = {}
+        result = result.json()['data']['tasks'][0]
+        for field in fields:
+            cur = result
+            for part in field.split("."):
+                if part.isdigit():
+                    cur = cur[part]
+                else:
+                    cur = cur.get(part, {})
+            results[field] = cur
+        return results
+    except Exception as ex:
+        if log:
+            log.error("Failed obtaining values for task fields {}: {}", fields, ex)
+        pass
+    return {}
+
+
 def get_task_container(session, task_id):
     """
     Returns dict with Task docker container setup {container: '', arguments: '', setup_shell_script: ''}
     """
     if session.check_min_api_version("2.13"):
         result = session.send_request(
             service='tasks',
@@ -336,24 +368,27 @@
             container = result.json()['data']['tasks'][0]['container'] if result.ok else {}
             if container.get('arguments'):
                 container['arguments'] = shlex.split(str(container.get('arguments')).strip())
         except (ValueError, TypeError):
             container = {}
     else:
         response = get_task(session, task_id, only_fields=["execution.docker_cmd"])
-        task_docker_cmd_parts = shlex.split(str(response.execution.docker_cmd or '').strip())
-        try:
-            container = dict(
-                container=task_docker_cmd_parts[0],
-                arguments=task_docker_cmd_parts[1:] if len(task_docker_cmd_parts[0]) > 1 else ''
-            )
-        except (ValueError, TypeError):
-            container = {}
+        container = {}
+        if response.execution:
+            task_docker_cmd_parts = shlex.split(str(response.execution.docker_cmd or '').strip())
+            if task_docker_cmd_parts:
+                try:
+                    container = dict(
+                        image=task_docker_cmd_parts[0],
+                        arguments=task_docker_cmd_parts[1:] if len(task_docker_cmd_parts[0]) > 1 else ''
+                    )
+                except (ValueError, TypeError):
+                    pass
 
-    if (not container or not container.get('container')) and session.check_min_api_version("2.13"):
+    if (not container or not container.get('image')) and session.check_min_api_version("2.13"):
         container = resolve_default_container(session=session, task_id=task_id, container_config=container)
 
     return container
 
 
 def set_task_container(session, task_id, docker_image=None, docker_arguments=None, docker_bash_script=None):
     if docker_arguments and isinstance(docker_arguments, str):
@@ -886,19 +921,29 @@
                 docker_params["worker_tags"] = self._worker_tags
             if self._services_mode:
                 # if this is services mode, give the docker a unique worker id, as it will register itself.
                 docker_params["worker_id"] = worker_id
 
             name_format = self._session.config.get('agent.docker_container_name_format', None)
             if name_format:
+                custom_fields = {}
+                name_format_fields = self._session.config.get('agent.docker_container_name_format_fields', None)
+                if name_format_fields:
+                    field_values = get_task_fields(task_session, task_id, name_format_fields.values(), log=self.log)
+                    custom_fields = {
+                        k: field_values.get(v)
+                        for k, v in name_format_fields.items()
+                    }
+
                 try:
                     name = name_format.format(
                         task_id=re.sub(r'[^a-zA-Z0-9._-]', '-', task_id),
                         worker_id=re.sub(r'[^a-zA-Z0-9._-]', '-', worker_id),
-                        rand_string="".join(sys_random.choice(string.ascii_lowercase) for _ in range(32))
+                        rand_string="".join(sys_random.choice(string.ascii_lowercase) for _ in range(32)),
+                        **custom_fields,
                     )
                 except Exception as ex:
                     print("Warning: failed generating docker container name: {}".format(ex))
                 else:
                     if self._valid_docker_container_name(name):
                         docker_params["name"] = name
                     else:
@@ -3845,14 +3890,18 @@
                 if isinstance(extra_docker_arguments, six.string_types) else extra_docker_arguments
             base_cmd += [str(a) for a in extra_docker_arguments if a]
 
         # set docker labels
         base_cmd += ['-l', self._worker_label.format(worker_id)]
         base_cmd += ['-l', self._parent_worker_label.format(parent_worker_id)]
 
+        extra_labels = ENV_EXTRA_DOCKER_LABELS.get()
+        for label in (extra_labels or []):
+            base_cmd += ['-l', label]
+
         self.debug("Command: {}".format(base_cmd), context="docker")
 
         # check if running inside a kubernetes
         if ENV_DOCKER_HOST_MOUNT.get() or (os.environ.get('KUBERNETES_SERVICE_HOST') and
                                            os.environ.get('KUBERNETES_PORT')):
             # map network to sibling docker, unless we have other network argument
             if not any(a.strip().startswith('--network') for a in base_cmd):
```

## Comparing `clearml_agent-1.5.3rc3.dist-info/LICENSE` & `clearml_agent-1.5.3rc4.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `clearml_agent-1.5.3rc3.dist-info/METADATA` & `clearml_agent-1.5.3rc4.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: clearml-agent
-Version: 1.5.3rc3
+Version: 1.5.3rc4
 Summary: ClearML Agent - Auto-Magical DevOps for Deep Learning
 Home-page: https://github.com/allegroai/clearml-agent
 Author: Allegroai
 Author-email: clearml@allegro.ai
 License: Apache License 2.0
 Keywords: clearml trains devops machine deep learning agent automation hpc cluster
 Platform: UNKNOWN
```

## Comparing `clearml_agent-1.5.3rc3.dist-info/RECORD` & `clearml_agent-1.5.3rc4.dist-info/RECORD`

 * *Files 2% similar despite different names*

```diff
@@ -1,19 +1,19 @@
 clearml_agent/__init__.py,sha256=x8fsfFnx1WMwOw5RJmsZxSfeUCWc6ZLXGX_78McBsNs,50
 clearml_agent/__main__.py,sha256=UlsXGOOFOyMfJCTpFWpYFmM21rNtdKYQ7lhgAeBYphs,2891
 clearml_agent/complete.py,sha256=g8oDVqTg6Nq-p56bTJyhBwCPgsoerh73VRox8YY4FUM,2410
 clearml_agent/config.py,sha256=-pLaHyLsQJxpEIY3TysH5baN6fc5hkpfhAiBT1P--ps,736
-clearml_agent/definitions.py,sha256=YEexQUQD4HPgqER__urw7L6cm9D0AnVH5L_ukUQ9Cl8,11127
+clearml_agent/definitions.py,sha256=1oRp0cRxYtalR-7_8lbkkIpzgsqkOstGtlXMP2tkLZA,11218
 clearml_agent/errors.py,sha256=JI7zT0mLJeL-rwgrFJAUAc__XdGm9HGpnxhEYeSu-44,2826
 clearml_agent/session.py,sha256=k_MFy26zhmeqG2G5BkVwO2HDdjGddYKozfv2C-kofO4,15942
-clearml_agent/version.py,sha256=9u4XCFNlR3MfYXFca_Kdmc3SLkwT4uWiAyVE6qSsnqk,25
+clearml_agent/version.py,sha256=5N512WpBCPg66uNfl3wE3kwcJkn7DQxBLJz-3FyuixM,25
 clearml_agent/backend_api/__init__.py,sha256=lN-HRyAnJd6044dJ_RKgsA28BarmAG4Pbdxu9IIwWsE,123
 clearml_agent/backend_api/utils.py,sha256=tFHquUe5nJQX9p9dB25nx5HKNfbwOBWj29fG387W1-s,4786
 clearml_agent/backend_api/config/__init__.py,sha256=7prYyl5e9R4evwdOfMevoD-hjpj2P8UTbsy-OwidpDw,561
-clearml_agent/backend_api/config/default/agent.conf,sha256=0UT7CwVMBQ_96Phdhs7RFoVrdqHruE9EQt7Xux163G0,19804
+clearml_agent/backend_api/config/default/agent.conf,sha256=bCposUHp_LItOSEFVG2SM4GU7R6w8ty2h4BIsa_GPjI,20435
 clearml_agent/backend_api/config/default/api.conf,sha256=aEe45ERpEBh-a5XivxORZQDtoKR8VKOO0_mKxaWM3Uk,1796
 clearml_agent/backend_api/config/default/logging.conf,sha256=ZvFOI9Ww6ro4IgbNcCY-Zx3D25xaSpLKdDgG7PcxMfg,92
 clearml_agent/backend_api/config/default/sdk.conf,sha256=XFiJTCtBCuWQ2r2SgtPRMJsPFb81h175SySt7_aBBU0,6857
 clearml_agent/backend_api/schema/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 clearml_agent/backend_api/schema/action.py,sha256=EuE2jJ6-FNZBzb9PtGDfgZmEc7YMU_ONuqC3aklXjYQ,1295
 clearml_agent/backend_api/schema/service.py,sha256=a9o4_bWGk5MQan_-bynCmQqC7t5AmIH_GhzzKHjMfEE,6824
 clearml_agent/backend_api/services/__init__.py,sha256=upHJgJ3Y09BeF6rHQAItNICvfybaZSr8mEvh9ie60kA,282
@@ -33,19 +33,19 @@
 clearml_agent/backend_api/services/v2_5/queues.py,sha256=rYyNfE-XzDCKQwlq68Rh-axI0rMIFY5kM8En16HaWpg,66636
 clearml_agent/backend_api/services/v2_5/tasks.py,sha256=j4jvFWaTX7kJYHX4XnwS7ATgeJodwrpAcbA42wnqgkk,234295
 clearml_agent/backend_api/services/v2_5/workers.py,sha256=PHcG_PhZxE6ghCjToS_NJsIcZgyLOgMnSdU_Ge9e0yQ,77996
 clearml_agent/backend_api/session/__init__.py,sha256=lfHjqJWkpL2XySWzjGxGg0WePhqXS3yAYiE3aW_BNJk,338
 clearml_agent/backend_api/session/apimodel.py,sha256=1fCbOEL-2ZGqSHYV4qEwDZLZpZRylOI2RYhb4f5thq8,156
 clearml_agent/backend_api/session/callresult.py,sha256=WYs1FiG18nTUozThYHQ4nX7oF3AYH6GC7w9IjCQQdco,5233
 clearml_agent/backend_api/session/datamodel.py,sha256=861TZeos7oDRirvYp2dum_LasyQyuCnK3wyqB5nNHc8,4598
-clearml_agent/backend_api/session/defs.py,sha256=PVtpwh6YD_7zotgd1jdfzFxBiPks9cthMjEyPPn8hQk,1877
+clearml_agent/backend_api/session/defs.py,sha256=bh5WLLHxEZW6BXf88hxJVrdnFwWzAZEUd9xiyeRbDz4,1963
 clearml_agent/backend_api/session/errors.py,sha256=FKra1Ade-HfXRVMiPfTV1EUFGcFlbo-kZzi-DnVOwa0,345
 clearml_agent/backend_api/session/request.py,sha256=2yJNWKtCkQ1TUSQnK42OTdUvDWjqsEE_SNA_j5U7vyI,2817
 clearml_agent/backend_api/session/response.py,sha256=1mmxHy2BKyAWCjMVjsJxvpYmg3_HIIgqmxqj5pRq12k,1932
-clearml_agent/backend_api/session/session.py,sha256=LBH5C9VjIwzEy0GRhy5B3VEceDLfVot9fqp-NTff2ec,27875
+clearml_agent/backend_api/session/session.py,sha256=o13c1TjmHt_4RR559omun60VHh5t7arAKcv7mRxdHwU,28237
 clearml_agent/backend_api/session/token_manager.py,sha256=I6qfPGWxc7JIGYA8gjg44t2ZO_b0l-iy_d9SxDaaVQk,4200
 clearml_agent/backend_api/session/client/__init__.py,sha256=gUnQLkLkXZS97LBYSyJYlNhhw_SB03Ow-XNdKAo3QDU,55
 clearml_agent/backend_api/session/client/client.py,sha256=nPRfk0Wx83lz2RUiz_0M5Pxz0f6dWYIWhaN6f1hPDqk,16055
 clearml_agent/backend_api/session/jsonmodels/__init__.py,sha256=lli_6VTkWn4bU13jED9YacAyC4kn19ja3aPSWDdIFU0,175
 clearml_agent/backend_api/session/jsonmodels/builders.py,sha256=tZienKuaXqCpsgK6TPHsC5I0eSv3TdnJKhOt4XSzwAU,6397
 clearml_agent/backend_api/session/jsonmodels/collections.py,sha256=OJwmkkHu4fEB726sjgFnjkaWR5zwpXmDzbAsL2sFX8E,552
 clearml_agent/backend_api/session/jsonmodels/errors.py,sha256=qo7pXGXLwYM7TWTyhQH0AjFbnzqqGQqrt2MVayp8dp4,145
@@ -58,22 +58,22 @@
 clearml_agent/backend_config/config.py,sha256=qyHXhNp5ljQ5HF1EQrCJhP1UJD6y7w1Vs0NMrUMgiWk,12445
 clearml_agent/backend_config/converters.py,sha256=iskY2FUsg_-22C5TMI9fGk2WiAWpZIcIstsN-ktAQjc,1704
 clearml_agent/backend_config/defs.py,sha256=n2QPCkAXmjSjf2l71YHoDgrBgicDtfFfhxBlJ2iBYHY,1776
 clearml_agent/backend_config/entry.py,sha256=TqgaF6VHc0gqHfY1RpqiOlm9BNY73EYV4xXH5X2B_xE,3531
 clearml_agent/backend_config/environment.py,sha256=Xpn-Ne2Qvc6X_K1ZtdkoIkD-5KWWu5YNiJF6zMeqjvc,2163
 clearml_agent/backend_config/errors.py,sha256=g--fZCjyH0RDuR58ue4Q0ngiLoqM2J1RsuRtdHxiWss,186
 clearml_agent/backend_config/log.py,sha256=J6ga032ViKAbhlj1nqW2t9Q-yBEcC50pqfSQwS-wihw,851
-clearml_agent/backend_config/utils.py,sha256=xW8hk23T7pJAOGUE3Ybtxvs2QJeXLHVnlU4ljKl0dvs,3815
+clearml_agent/backend_config/utils.py,sha256=CguzBvNYf_2SIsEv7v7hcG-hJDLfPgYHQw8Xh4SJ9UU,4219
 clearml_agent/commands/__init__.py,sha256=YV58pttbL_17b-nKhaQ_PvljaUcOiQeVoB-t-dBj_mY,99
 clearml_agent/commands/base.py,sha256=KESXmyIa3gGIMsQoSeBkvC63OLHB-SqrlntXAmrBvs4,15160
 clearml_agent/commands/check_config.py,sha256=EDrc16zKuNvRX-YWEI4y8qutBWk7BmWluyF5lAoF9tk,536
 clearml_agent/commands/config.py,sha256=mo8SR3w-Pd05Ap-iF8YeyqwHhLqRVbvV4ay8jjz3dkg,17027
 clearml_agent/commands/events.py,sha256=8Wz6AkFXvZxf_FKTwaElqaU4pyZ6yWlSAytsCdw1ZdQ,3204
-clearml_agent/commands/resolver.py,sha256=n-ueBfLygvg1xwk-XgaYJ3Rv1hu6RmWa8KP2EBWu84A,6554
-clearml_agent/commands/worker.py,sha256=uVR9OlXbrYdR1ilzI2Lo13HTB62aWljFAktshEJZ_ho,189757
+clearml_agent/commands/resolver.py,sha256=JJKXArIhZVjLwejrCg075eh2i6CDHqbH9iheXBgSnBI,6552
+clearml_agent/commands/worker.py,sha256=LM2uHKcX0NlvpKit-QwyUe2Wf4IE4VW2rBASAJaC0Iw,191566
 clearml_agent/external/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 clearml_agent/external/pyhocon/__init__.py,sha256=9Y64dUMI_8P52FEC4HP0IcB90JkrtJEAjqXRn8dLX0Q,256
 clearml_agent/external/pyhocon/config_parser.py,sha256=kKaRs0uKTw_MYi0zzExNksFY9gC_NJw-hB-LlqbSFok,32918
 clearml_agent/external/pyhocon/config_tree.py,sha256=Fbw1_2DoplrJXJTUVNlscmr6x42smNNMAYxilFVT7Dg,22532
 clearml_agent/external/pyhocon/converter.py,sha256=b0Yj2t5GeUJRaH26KBoToOa5KYzuyroz9zJO-Jvea54,13100
 clearml_agent/external/pyhocon/exceptions.py,sha256=k_6C6fB063ifnjiMDiRtL53tF4TO6lcbkwLA2wsYOZc,352
 clearml_agent/external/requirements_parser/__init__.py,sha256=lAOYEvxEeIkllA8iyViWAaiR3GDB7MagIrK_nWGr_L8,353
@@ -117,13 +117,13 @@
 clearml_agent/helper/package/venv_update_api.py,sha256=dX_EeraHgU2cd36S2pKEzp_bNKGKeyTz83yOgYyw_vo,3401
 clearml_agent/helper/package/pip_api/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 clearml_agent/helper/package/pip_api/system.py,sha256=_4XFdVR8NCiuxhvHqTukeuPqbfpkO_Fxj2Mgb3ExMV0,3360
 clearml_agent/helper/package/pip_api/venv.py,sha256=t-xhl1djtlS_XhATwEeahI6eId_N6mMnN1ai2J0k6OI,2951
 clearml_agent/interface/__init__.py,sha256=8Bxzt8z7hcpx8EBDu7MrSt0aegdcCX1-EI6-yOY6sGs,1244
 clearml_agent/interface/base.py,sha256=gjECQZsolfZY6AADkomj_OzNy0Gy3ap5mnex2O7Wi0A,15036
 clearml_agent/interface/worker.py,sha256=AEKdxr2zWSQvZVl0fYtu-rM_vdO2XvnLy_qpgIbNDQ8,9937
-clearml_agent-1.5.3rc3.dist-info/LICENSE,sha256=y_zZWeeAnf6mRnYn7HBoaFA8qF9Xsx3j01jNTcppKlY,11340
-clearml_agent-1.5.3rc3.dist-info/METADATA,sha256=9jXcCclpRqtoITsjX6wfRQZ4YXleFfHr7sc_1moItSw,18199
-clearml_agent-1.5.3rc3.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-clearml_agent-1.5.3rc3.dist-info/entry_points.txt,sha256=05FyI7Hjs821dPHdDAe0OOu7ZRYDpJ4i7RpgNdX6NXA,63
-clearml_agent-1.5.3rc3.dist-info/top_level.txt,sha256=_TrkgE1QyUVMVlaIweOwBzQtGx6A2PJ60rBpYMYSlYo,14
-clearml_agent-1.5.3rc3.dist-info/RECORD,,
+clearml_agent-1.5.3rc4.dist-info/LICENSE,sha256=y_zZWeeAnf6mRnYn7HBoaFA8qF9Xsx3j01jNTcppKlY,11340
+clearml_agent-1.5.3rc4.dist-info/METADATA,sha256=V79ySuTlhIm_4F-lfdLNTljHKdqa2Z6A-cul2lE-bwA,18199
+clearml_agent-1.5.3rc4.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
+clearml_agent-1.5.3rc4.dist-info/entry_points.txt,sha256=05FyI7Hjs821dPHdDAe0OOu7ZRYDpJ4i7RpgNdX6NXA,63
+clearml_agent-1.5.3rc4.dist-info/top_level.txt,sha256=_TrkgE1QyUVMVlaIweOwBzQtGx6A2PJ60rBpYMYSlYo,14
+clearml_agent-1.5.3rc4.dist-info/RECORD,,
```

