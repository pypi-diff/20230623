# Comparing `tmp/mariqt_widgets-0.2.1-py2.py3-none-any.whl.zip` & `tmp/mariqt_widgets-0.3.0-py2.py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,15 +1,17 @@
-Zip file size: 21460 bytes, number of entries: 13
--rw-r--r--  2.0 unx      128 b- defN 23-Jun-12 13:17 mariqt_widgets/__init__.py
--rw-r--r--  2.0 unx    49232 b- defN 23-Jun-12 13:17 mariqt_widgets/notebook_widgets.py
--rw-rw-rw-  2.0 unx     1520 b- defN 23-Jun-12 13:17 mariqt_widgets/icons/checkbox-circle-line_gray.png
--rw-rw-rw-  2.0 unx     1525 b- defN 23-Jun-12 13:17 mariqt_widgets/icons/checkbox-circle-line_green.png
--rw-rw-rw-  2.0 unx     1502 b- defN 23-Jun-12 13:17 mariqt_widgets/icons/error-warning-line_gray.png
--rw-rw-rw-  2.0 unx     1513 b- defN 23-Jun-12 13:17 mariqt_widgets/icons/error-warning-line_orange.png
--rw-rw-rw-  2.0 unx     1470 b- defN 23-Jun-12 13:17 mariqt_widgets/icons/error-warning-line_red.png
--rw-rw-rw-  2.0 unx      118 b- defN 23-Jun-12 13:17 mariqt_widgets-0.2.1.dist-info/AUTHORS.md
--rw-rw-rw-  2.0 unx     1506 b- defN 23-Jun-12 13:17 mariqt_widgets-0.2.1.dist-info/LICENSE
--rw-r--r--  2.0 unx     1443 b- defN 23-Jun-12 13:17 mariqt_widgets-0.2.1.dist-info/METADATA
--rw-r--r--  2.0 unx      110 b- defN 23-Jun-12 13:17 mariqt_widgets-0.2.1.dist-info/WHEEL
--rw-r--r--  2.0 unx       15 b- defN 23-Jun-12 13:17 mariqt_widgets-0.2.1.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     1224 b- defN 23-Jun-12 13:17 mariqt_widgets-0.2.1.dist-info/RECORD
-13 files, 61306 bytes uncompressed, 19368 bytes compressed:  68.4%
+Zip file size: 45512 bytes, number of entries: 15
+-rw-r--r--  2.0 unx      128 b- defN 23-Jun-23 14:24 mariqt_widgets/__init__.py
+-rw-r--r--  2.0 unx   106778 b- defN 23-Jun-23 14:24 mariqt_widgets/ifdo_create.py
+-rw-r--r--  2.0 unx     6080 b- defN 23-Jun-23 14:24 mariqt_widgets/ifdo_excel.py
+-rw-r--r--  2.0 unx    52516 b- defN 23-Jun-23 14:24 mariqt_widgets/notebook_widgets.py
+-rw-rw-rw-  2.0 unx     1520 b- defN 23-Jun-23 14:24 mariqt_widgets/icons/checkbox-circle-line_gray.png
+-rw-rw-rw-  2.0 unx     1525 b- defN 23-Jun-23 14:24 mariqt_widgets/icons/checkbox-circle-line_green.png
+-rw-rw-rw-  2.0 unx     1502 b- defN 23-Jun-23 14:24 mariqt_widgets/icons/error-warning-line_gray.png
+-rw-rw-rw-  2.0 unx     1513 b- defN 23-Jun-23 14:24 mariqt_widgets/icons/error-warning-line_orange.png
+-rw-rw-rw-  2.0 unx     1470 b- defN 23-Jun-23 14:24 mariqt_widgets/icons/error-warning-line_red.png
+-rw-rw-rw-  2.0 unx      118 b- defN 23-Jun-23 14:25 mariqt_widgets-0.3.0.dist-info/AUTHORS.md
+-rw-rw-rw-  2.0 unx     1506 b- defN 23-Jun-23 14:25 mariqt_widgets-0.3.0.dist-info/LICENSE
+-rw-r--r--  2.0 unx     1443 b- defN 23-Jun-23 14:25 mariqt_widgets-0.3.0.dist-info/METADATA
+-rw-r--r--  2.0 unx      110 b- defN 23-Jun-23 14:25 mariqt_widgets-0.3.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx       15 b- defN 23-Jun-23 14:25 mariqt_widgets-0.3.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1397 b- defN 23-Jun-23 14:25 mariqt_widgets-0.3.0.dist-info/RECORD
+15 files, 177621 bytes uncompressed, 43154 bytes compressed:  75.7%
```

## zipnote {}

```diff
@@ -1,10 +1,16 @@
 Filename: mariqt_widgets/__init__.py
 Comment: 
 
+Filename: mariqt_widgets/ifdo_create.py
+Comment: 
+
+Filename: mariqt_widgets/ifdo_excel.py
+Comment: 
+
 Filename: mariqt_widgets/notebook_widgets.py
 Comment: 
 
 Filename: mariqt_widgets/icons/checkbox-circle-line_gray.png
 Comment: 
 
 Filename: mariqt_widgets/icons/checkbox-circle-line_green.png
@@ -15,26 +21,26 @@
 
 Filename: mariqt_widgets/icons/error-warning-line_orange.png
 Comment: 
 
 Filename: mariqt_widgets/icons/error-warning-line_red.png
 Comment: 
 
-Filename: mariqt_widgets-0.2.1.dist-info/AUTHORS.md
+Filename: mariqt_widgets-0.3.0.dist-info/AUTHORS.md
 Comment: 
 
-Filename: mariqt_widgets-0.2.1.dist-info/LICENSE
+Filename: mariqt_widgets-0.3.0.dist-info/LICENSE
 Comment: 
 
-Filename: mariqt_widgets-0.2.1.dist-info/METADATA
+Filename: mariqt_widgets-0.3.0.dist-info/METADATA
 Comment: 
 
-Filename: mariqt_widgets-0.2.1.dist-info/WHEEL
+Filename: mariqt_widgets-0.3.0.dist-info/WHEEL
 Comment: 
 
-Filename: mariqt_widgets-0.2.1.dist-info/top_level.txt
+Filename: mariqt_widgets-0.3.0.dist-info/top_level.txt
 Comment: 
 
-Filename: mariqt_widgets-0.2.1.dist-info/RECORD
+Filename: mariqt_widgets-0.3.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## mariqt_widgets/__init__.py

```diff
@@ -1,5 +1,5 @@
 """Top-level package for mariqt_widgets."""
 
 __author__ = """Karl Heger"""
 __email__ = 'kheger@geomar.de'
-__version__ = '0.2.1'
+__version__ = '0.3.0'
```

## mariqt_widgets/notebook_widgets.py

```diff
@@ -9,14 +9,17 @@
 import os
 from io import StringIO
 import functools
 import difflib
 import abc
 import inspect
 import copy
+import html
+from IPython.display import display
+import traitlets
 
 import mariqt.variables as miqtv
 import mariqt.converters as miqtconv
 
 myPath = os.path.dirname(__file__)
 ICON_CHECK = open(myPath + "/icons/checkbox-circle-line_green.png", "rb").read()
 ICON_CHECKDISABLED = open(myPath + "/icons/checkbox-circle-line_gray.png", "rb").read()
@@ -65,14 +68,134 @@
 
     @myvalue.setter
     def myvalue(self, value):
         self._myvalue = value
         self.paint()
 
 
+class MyScrollbox(widgets.HBox):
+    """ Creates a scrollable text area that is not editable with fixed size """
+    def __init__(self,value,height='60px'):
+        testColor='#808080'
+        borderColor='#C0C0C0'
+        text = html.escape(value).replace("\n","<br/>").replace("\t", "&nbsp;&nbsp;&nbsp;")
+        htmlw = widgets.HTML(
+            value= f"<p style=line-height:150%><font color={testColor}>{text}</p>",
+            disabled=True,
+            color='#d5d8dc',
+            layout=widgets.Layout(lineheight='80%'),
+            width='auto'
+        )
+        widgets.HBox.__init__(self,[htmlw], layout=widgets.Layout(width='auto',
+                                                         height=height,
+                                                         overflow_y='auto',
+                                                         border='solid 1px '+borderColor,
+                                                         padding='0px 8px 0px 8px',
+                                                         margin='2px 0px 2px 0px'))
+
+def escapeHTML(msg:str):
+    return formatHTML(html.escape(msg).replace("\n","<br/>").replace("\t", "&nbsp;&nbsp;&nbsp;"))
+def formatHTML(msg:str):
+    return f"<p style=\"font-family:monospace;\">{msg}</p>"
+
+class MyHtmlWidget(widgets.HTML):
+    """ text widget to avoid creation of scroll box in jupyter notebook due to output size change. """
+    def __init__(self):
+        widgets.HTML.__init__(self)
+        self.text = "" 
+
+    def addText(self,text:str):
+        if text != "" and text != "[]":
+            self.text += "\n" + text
+            self.value = escapeHTML(self.text)
+
+
+class MyValid(widgets.VBox):
+    """ Valid that has no aligment bug and allows disabling """
+    def __init__(self,valid=True,disabled = False,margin_top:float=7):
+        
+        self.image = widgets.Image()
+        
+        widgets.VBox.__init__(self,[self.image],layout=widgets.Layout(margin=str(margin_top) + 'px 0 0 0px'))
+
+        self.icon_check = ICON_CHECK
+        self.icon_checkDisabled = ICON_CHECKDISABLED
+        self.icon_error = ICON_ERROR
+        self.icon_errorDisabled = ICON_ERRORDISABLED
+        self.icon_warning = ICON_WARNING
+        self._valid = valid
+        self._disabled = disabled
+        self._warning = False
+        self.image.layout.width = '15px'
+        self.image.layout.hight = '15px'
+        self.image.layout.max_width = '15px'
+        self.image.layout.max_hight = '15px'
+        
+        self.paint()
+        
+        # def warningOnce(self):
+        #     """ sets next invalid to warning """
+        #     self.warning = True
+
+    def paint(self):
+        if self.valid:
+            if self.disabled:
+                if self.warning:
+                    self.image.value = self.icon_errorDisabled
+                else:
+                    self.image.value = self.icon_checkDisabled
+            else:
+                if self.warning:
+                    self.image.value = self.icon_warning
+                else:
+                    self.image.value = self.icon_check
+        else:
+            if self.disabled:
+                self.image.value = self.icon_errorDisabled
+            else:
+                self.image.value = self.icon_error
+            # else:
+            #     if self.warning:
+            #         self.value = self.icon_warning
+            #         self.warning = False
+            #     else:
+            #         self.value = self.icon_error
+
+    @property
+    def valid(self):
+        return self._valid
+
+    @valid.setter
+    def valid(self, value):
+        self._valid = value
+        if self._valid:
+            self._warning = False
+        self.paint()
+
+    @property
+    def warning(self):
+        return self._warning
+
+    @warning.setter
+    def warning(self, value):
+        self._warning = value
+        if self._warning:
+            self._valid = True
+        self.paint()
+            
+    @property
+    def disabled(self):
+        return self._disabled 
+
+    @disabled.setter
+    def disabled(self, value):
+        self._disabled = value
+        self.paint()
+
+
 class FileChooserPaste(FileChooser):
     def __init__(self, path: str = '', filename: str = '', title: str = '', select_desc: str = 'Select', change_desc: str = 'Change', show_hidden: bool = False, select_default: bool = False, dir_icon = '\U0001F4C1 ', dir_icon_append: bool = False, show_only_dirs: bool = False, filter_pattern = None, sandbox_path = None, **kwargs):
         """ File Chooser that also has field to paste a file path. Get Full widget with .getWidget() """
         super().__init__(path, filename, title, select_desc, change_desc, show_hidden, select_default, dir_icon, dir_icon_append, show_only_dirs, filter_pattern, sandbox_path, **kwargs)
 
         self.filePathWidget = widgets.Text(layout=widgets.Layout(width='50px'))
         self.filePathWidget.observe(self._filePathWidget_changed)
@@ -135,26 +258,42 @@
         return self
     def __exit__(self, *args):
         self.extend(self._stringio.getvalue().splitlines())
         del self._stringio    # free up some memory
         sys.stdout = self._stdout
 
 
+class VerticalSpacer(widgets.VBox):
+    def __init__(self,space:int):
+        widgets.VBox.__init__(self,[],layout=widgets.Layout(margin=str(space) + 'px 0 0 0'))
+
+
+class HorizontalSpacer(widgets.HBox):
+    def __init__(self,space:int):
+        widgets.HBox.__init__(self,[],layout=widgets.Layout(margin='0 ' + str(space) + 'px  0 0'))
+
+
+
+
 ################################ Editable list widget ############################################################
 
 class EditalbleListWidget():
     """ creates a widget containing a list of sub widgets which can be added and removed and are stored in a list """
-    def __init__(self,label,itemWidgetExample,iFDOList):
-        """ label will be displayed above list and in front of "add" button. itemWidgetExample is used to create item by copying it, must be inherited from itemWidgetBase """
+    def __init__(self,label,itemWidgetExample,iFDOList,repaint_after_delete:bool=True):
+        """ label will be displayed above list and in front of "add" button. itemWidgetExample is used to create item by copying it, must be inherited from itemWidgetBase.
+        repaint_after_delete: this widget can be used to directly act on iFDOList, i.e. delete an item from it if widget deleted. Alternatively, the list widget
+        values can be read afterwards to process the information. In this case the items removeFromSource can be passed and repaint_after_delete needs to be 
+        set False """
         
 
         self._itemWidgetExample = itemWidgetExample
         self.iFDOList = iFDOList # list of respective fields/objs in iFDO 
         self.itemObjList = []    # list of item object
         self.itemsWidget = widgets.VBox([e.widget for e in self.itemObjList]) # list of item objects as widget
+        self.repaint_after_delete = repaint_after_delete
         
         # label plus add button
         addButton = widgets.Button(description="+", layout=widgets.Layout(width='auto'))
         addButton.on_click(self.on_addButton_clicked)
         self.labelButtonBox = widgets.HBox([widgets.Label(label), addButton])
         
         # complete widget
@@ -181,30 +320,40 @@
 
     def handleOn_deleteButton_clicked(self,obj):
         #with Capturing() as output:
         
         self.itemObjList.remove(obj)
         self.itemsWidget.children = [e.widget for e in self.itemObjList]
         #iFDO.removeItemInfoTabFile(obj.fileName(),obj.columns())
-        self._itemWidgetExample.removeFromiFDO(obj.itemWidget.getParams())
+        self._itemWidgetExample.removeFromSource(obj.itemWidget.getParams())
         obj.widget.close()
         self._itemWidgetExample.on_change_fct(0)
-        self.repaint()
+        if self.repaint_after_delete:
+            self.repaint()
         #debugOutputWidget.addText(str(output))
             
         obj.delete()
 
     def repaint(self):
         for item in self.iFDOList:
             tmpNew = self._itemWidgetExample.copy()
-            tmpNew.setParams(self._itemWidgetExample.readParamsFromiFDOElement(item))
+            tmpNew.setParams(self._itemWidgetExample.readParamsFromElement(item))
             tmpNewContainer = ItemWidgetContainer(self,tmpNew)
             if not tmpNewContainer in self.itemObjList:
                 self.on_addButton_clicked(0,tmpNew.getParams())
 
+    def observe(self, handler, names=traitlets.All, type="change"):
+        observe_op = getattr(self._itemWidgetExample, "observe", None)
+        if not callable(observe_op):
+            return
+        else:
+            for item in self.itemObjList:
+                item.widget.observe(handler, names, type)
+                item.itemWidget.observe(handler, names, type)
+
 
 class ItemWidgetContainer:
     """ contains the item itself plus the delete button """
     def __init__(self,editalbleListWidget,itemWidget):
 
         self.editalbleListWidget = editalbleListWidget
         self.itemWidget = itemWidget
@@ -255,20 +404,20 @@
         
     def getParams(self):
         raise NotImplementedError("Please Implement this method")
         
     def getWidget(self):
         raise NotImplementedError("Please Implement this method")
         
-    def removeFromiFDO(self,params):
-        """ what should be done in iFDO if item with params deleted? """
+    def removeFromSource(self,params):
+        """ what should be done in source if item with params deleted? """
         raise NotImplementedError("Please Implement this method")
         
-    def readParamsFromiFDOElement(self,element):
-        """ how can params be read from the one element of EditalbleListWidget.iFDOList in order to init widget """
+    def readParamsFromElement(self,element):
+        """ how can params be read from the one source element in order to init widget """
         raise NotImplementedError("Please Implement this method")
         
 # example
 """
 iFDOList = ["value1","value2"]        
 class TestWidget(ItemWidgetBase):
     
@@ -289,20 +438,20 @@
         
     def getParams(self):
         return [self.valueWidget.value]
         
     def getWidget(self):
         return self.widget
     
-    def removeFromiFDO(self,params):
+    def removeFromSource(self,params):
         #print("TODO remove from ifdo:",params)
         if params[0] in iFDOList:
             iFDOList.remove(params[0])
         
-    def readParamsFromiFDOElement(self,element):
+    def readParamsFromElement(self,element):
         #print("TODO read params from iFDO element")
         return [element]
     
 
 itemWidgetExample =  TestWidget()
 testList = EditalbleListWidget("Name",itemWidgetExample,iFDOList)
 #display(testList.completeWidget,output)
@@ -502,21 +651,21 @@
         for item in [widget for widget in self.auxFile_ColumnsBox_widget.children if isinstance(widget,HeaderFieldWidget)]:
             header[item.getFieldName()] = {'column-name':item.getColumnName(), 'converter':item.getCurrentConverter()}
         return [self.auxFile_file_widget.selected,self.fileSeparator.value,header]
 
     def getWidget(self):
         return self.auxFile_widget
 
-    def removeFromiFDO(self,params):
+    def removeFromSource(self,params):
         if self.iFDO is None:
-            #print("Caution! removeFromiFDO: iFDO is None")
+            #print("Caution! removeFromSource: iFDO is None")
             return
         self.iFDO.removeItemInfoTabFile(params[0],params[1],params[2])
 
-    def readParamsFromiFDOElement(self,element):
+    def readParamsFromElement(self,element):
         return [element.fileName,element.separator,element.header]
 
     def on_headerFieldWidget_changed(self,b):
         columnValues = [widget.getColumnName() for widget in self.auxFile_ColumnsBox_widget.children if isinstance(widget,HeaderFieldWidget) and not widget.dropdown_columnName.disabled]
         fieldValues = [widget.getFieldName() for widget in self.auxFile_ColumnsBox_widget.children if isinstance(widget,HeaderFieldWidget)]
 
         if None in columnValues or "" in columnValues or "" in fieldValues:
@@ -1065,80 +1214,14 @@
     def isMasterTime(self):
         return self.isMasterTimeRadioButton.value
 
 
 #################################################################################################################
 
 
-class MyValid(widgets.Image):
-    """ Valid that has no aligment bug and allows disabling """
-    def __init__(self,valid=True,disabled = False):
-        widgets.Image.__init__(self)
-        self.icon_check = ICON_CHECK
-        self.icon_checkDisabled = ICON_CHECKDISABLED
-        self.icon_error = ICON_ERROR
-        self.icon_errorDisabled = ICON_ERRORDISABLED
-        self.icon_warning =ICON_WARNING
-        self._valid = valid
-        self._disabled = disabled
-        self.warning = False
-        self.layout.width = '15px'
-        self.layout.hight = '15px'
-        self.layout.max_width = '15px'
-        self.layout.max_hight = '15px'
-        
-        # make it vertically aligned with labels and texts
-        space = 9
-        self.add_class("top-spacing-class-" + str(space))
-        # TODO
-        #if space not in existingSpacingClasses_top:
-        #    display(HTML("<style>.top-spacing-class-" + str(space) + " {margin-top: " + str(space) + "px;}</style>"))
-        #    existingSpacingClasses_top.append(space)
-        
-        self.paint()
-        
-    def warningOnce(self):
-        """ sets next invalid to warning """
-        self.warning = True
-
-    def paint(self):
-        if self.valid:
-            if self.disabled:
-                self.value = self.icon_checkDisabled
-            else:
-                self.value = self.icon_check
-        else:
-            if self.disabled:
-                self.value = self.icon_errorDisabled
-            else:
-                if self.warning:
-                    self.value = self.icon_warning
-                    self.warning = False
-                else:
-                    self.value = self.icon_error
-
-    @property
-    def valid(self):
-        return self._valid
-
-    @valid.setter
-    def valid(self, value):
-        self._valid = value
-        self.paint()
-            
-    @property
-    def disabled(self):
-        return self._disabled 
-
-    @disabled.setter
-    def disabled(self, value):
-        self._disabled = value
-        self.paint()
-
-
 class customExiftoolPathChooser():
     """ use .getWidget to get widget """
     def __init__(self):
         self.exiftoolPathChooser = FileChooserPaste()
         self.exiftoolPathChooser.register_callback(self.on_exiftoolPath_selected)
         self.exiftoolPathChooser.show_only_dirs = True
         self.exiftoolConfigAccordion = widgets.Accordion(children=[self.exiftoolPathChooser.getWidget()], selected_index=None)
```

## Comparing `mariqt_widgets-0.2.1.dist-info/LICENSE` & `mariqt_widgets-0.3.0.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `mariqt_widgets-0.2.1.dist-info/METADATA` & `mariqt_widgets-0.3.0.dist-info/METADATA`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: mariqt-widgets
-Version: 0.2.1
+Version: 0.3.0
 Summary: Contains widgets commonly used by MarIQT Notebooks.
 Home-page: https://codebase.helmholtz.cloud/datahub/marehub/ag-videosimages/mariqt-notebook-widgets
 Author: Karl Heger
 Author-email: kheger@geomar.de
 License: GNU General Public License v3
 Keywords: mariqt_widgets
 Classifier: Development Status :: 2 - Pre-Alpha
```

