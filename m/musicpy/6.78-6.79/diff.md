# Comparing `tmp/musicpy-6.78.tar.gz` & `tmp/musicpy-6.79.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "dist\musicpy-6.78.tar", last modified: Tue Jun 13 15:18:26 2023, max compression
+gzip compressed data, was "dist\musicpy-6.79.tar", last modified: Fri Jun 23 07:07:25 2023, max compression
```

## Comparing `musicpy-6.78.tar` & `musicpy-6.79.tar`

### file list

```diff
@@ -1,23 +1,23 @@
-drwxrwxrwx   0        0        0        0 2023-06-13 15:18:26.000000 musicpy-6.78/
--rw-rw-rw-   0        0        0    27030 2021-09-24 07:05:14.000000 musicpy-6.78/LICENSE
--rw-rw-rw-   0        0        0       40 2021-10-04 19:46:56.000000 musicpy-6.78/MANIFEST.in
--rw-rw-rw-   0        0        0    16335 2023-06-13 15:18:28.000000 musicpy-6.78/PKG-INFO
--rw-rw-rw-   0        0        0    14214 2023-04-18 07:20:38.000000 musicpy-6.78/README.md
-drwxrwxrwx   0        0        0        0 2023-06-13 15:18:26.000000 musicpy-6.78/musicpy/
--rw-rw-rw-   0        0        0       90 2022-05-24 06:43:42.000000 musicpy-6.78/musicpy/__init__.py
--rw-rw-rw-   0        0        0   112637 2023-03-17 16:11:10.000000 musicpy-6.78/musicpy/algorithms.py
--rw-rw-rw-   0        0        0    10087 2023-05-15 13:49:00.000000 musicpy-6.78/musicpy/control.py
--rw-rw-rw-   0        0        0    21720 2023-03-06 07:58:48.000000 musicpy-6.78/musicpy/database.py
--rw-rw-rw-   0        0        0    59875 2023-05-04 08:43:22.000000 musicpy-6.78/musicpy/daw.py
--rw-rw-rw-   0        0        0    81582 2023-06-06 13:53:58.000000 musicpy-6.78/musicpy/musicpy.py
--rw-rw-rw-   0        0        0       38 2023-03-06 07:58:48.000000 musicpy-6.78/musicpy/requirements for musicpy daw.txt
--rw-rw-rw-   0        0        0       18 2022-10-11 02:50:12.000000 musicpy-6.78/musicpy/requirements.txt
--rw-rw-rw-   0        0        0   257163 2023-06-13 14:17:38.000000 musicpy-6.78/musicpy/structures.py
-drwxrwxrwx   0        0        0        0 2023-06-13 15:18:26.000000 musicpy-6.78/musicpy.egg-info/
--rw-rw-rw-   0        0        0    16335 2023-06-13 15:18:28.000000 musicpy-6.78/musicpy.egg-info/PKG-INFO
--rw-rw-rw-   0        0        0      405 2023-06-13 15:18:28.000000 musicpy-6.78/musicpy.egg-info/SOURCES.txt
--rw-rw-rw-   0        0        0        1 2023-06-13 15:18:28.000000 musicpy-6.78/musicpy.egg-info/dependency_links.txt
--rw-rw-rw-   0        0        0       28 2023-06-13 15:18:28.000000 musicpy-6.78/musicpy.egg-info/requires.txt
--rw-rw-rw-   0        0        0        8 2023-06-13 15:18:28.000000 musicpy-6.78/musicpy.egg-info/top_level.txt
--rw-rw-rw-   0        0        0       86 2023-06-13 15:18:28.000000 musicpy-6.78/setup.cfg
--rw-rw-rw-   0        0        0     1402 2023-06-13 14:19:58.000000 musicpy-6.78/setup.py
+drwxrwxrwx   0        0        0        0 2023-06-23 07:07:25.000000 musicpy-6.79/
+-rw-rw-rw-   0        0        0    27030 2021-09-24 07:05:14.000000 musicpy-6.79/LICENSE
+-rw-rw-rw-   0        0        0       40 2021-10-04 19:46:56.000000 musicpy-6.79/MANIFEST.in
+-rw-rw-rw-   0        0        0    16335 2023-06-23 07:07:26.000000 musicpy-6.79/PKG-INFO
+-rw-rw-rw-   0        0        0    14214 2023-04-18 07:20:38.000000 musicpy-6.79/README.md
+drwxrwxrwx   0        0        0        0 2023-06-23 07:07:25.000000 musicpy-6.79/musicpy/
+-rw-rw-rw-   0        0        0       90 2022-05-24 06:43:42.000000 musicpy-6.79/musicpy/__init__.py
+-rw-rw-rw-   0        0        0   112643 2023-06-22 17:12:50.000000 musicpy-6.79/musicpy/algorithms.py
+-rw-rw-rw-   0        0        0    10087 2023-05-15 13:49:00.000000 musicpy-6.79/musicpy/control.py
+-rw-rw-rw-   0        0        0    21720 2023-03-06 07:58:48.000000 musicpy-6.79/musicpy/database.py
+-rw-rw-rw-   0        0        0    59875 2023-05-04 08:43:22.000000 musicpy-6.79/musicpy/daw.py
+-rw-rw-rw-   0        0        0    81582 2023-06-06 13:53:58.000000 musicpy-6.79/musicpy/musicpy.py
+-rw-rw-rw-   0        0        0       38 2023-03-06 07:58:48.000000 musicpy-6.79/musicpy/requirements for musicpy daw.txt
+-rw-rw-rw-   0        0        0       18 2022-10-11 02:50:12.000000 musicpy-6.79/musicpy/requirements.txt
+-rw-rw-rw-   0        0        0   257163 2023-06-13 14:17:38.000000 musicpy-6.79/musicpy/structures.py
+drwxrwxrwx   0        0        0        0 2023-06-23 07:07:25.000000 musicpy-6.79/musicpy.egg-info/
+-rw-rw-rw-   0        0        0    16335 2023-06-23 07:07:26.000000 musicpy-6.79/musicpy.egg-info/PKG-INFO
+-rw-rw-rw-   0        0        0      405 2023-06-23 07:07:26.000000 musicpy-6.79/musicpy.egg-info/SOURCES.txt
+-rw-rw-rw-   0        0        0        1 2023-06-23 07:07:26.000000 musicpy-6.79/musicpy.egg-info/dependency_links.txt
+-rw-rw-rw-   0        0        0       28 2023-06-23 07:07:26.000000 musicpy-6.79/musicpy.egg-info/requires.txt
+-rw-rw-rw-   0        0        0        8 2023-06-23 07:07:26.000000 musicpy-6.79/musicpy.egg-info/top_level.txt
+-rw-rw-rw-   0        0        0       86 2023-06-23 07:07:26.000000 musicpy-6.79/setup.cfg
+-rw-rw-rw-   0        0        0     1402 2023-06-22 17:14:00.000000 musicpy-6.79/setup.py
```

### Comparing `musicpy-6.78/LICENSE` & `musicpy-6.79/LICENSE`

 * *Files identical despite different names*

### Comparing `musicpy-6.78/PKG-INFO` & `musicpy-6.79/PKG-INFO`

 * *Files 0% similar despite different names*

```diff
@@ -1,16 +1,16 @@
 Metadata-Version: 2.1
 Name: musicpy
-Version: 6.78
+Version: 6.79
 Summary: Musicpy is a music programming language in Python designed to write music in very handy syntax through music theory and algorithms.
 Home-page: https://github.com/Rainbow-Dreamer/musicpy.git
 Author: Rainbow-Dreamer
 Author-email: 1036889495@qq.com
 License: LGPLv2.1
-Download-URL: https://github.com/Rainbow-Dreamer/musicpy/archive/6.78.tar.gz
+Download-URL: https://github.com/Rainbow-Dreamer/musicpy/archive/6.79.tar.gz
 Description: musicpy
         =======
         [中文](https://github.com/Rainbow-Dreamer/musicpy/blob/master/README_cn.md)
         
         Have you ever thought about writing music with codes in a very concise, human-readable syntax?
         
         Musicpy is a music programming language in Python designed to write music in very handy syntax through music theory and algorithms. It is easy to learn and write, easy to read, and incorporates a fully computerized music theory system.
```

### Comparing `musicpy-6.78/README.md` & `musicpy-6.79/README.md`

 * *Files identical despite different names*

### Comparing `musicpy-6.78/musicpy/algorithms.py` & `musicpy-6.79/musicpy/algorithms.py`

 * *Files 0% similar despite different names*

```diff
@@ -6528,513 +6528,514 @@
 000197f0: 2063 6f75 6e74 6572 202b 3d20 6375 7272   counter += curr
 00019800: 656e 745f 6368 6f72 645b 695d 0d0a 2020  ent_chord[i]..  
 00019810: 2020 2020 2020 696e 6473 2e61 7070 656e        inds.appen
 00019820: 6428 6929 0d0a 2020 2020 2020 2020 6966  d(i)..        if
 00019830: 2063 6f75 6e74 6572 203d 3d20 7661 6c75   counter == valu
 00019840: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
 00019850: 696e 6473 2e61 7070 656e 6428 6920 2b20  inds.append(i + 
-00019860: 3129 0d0a 2020 2020 2020 2020 2020 2020  1)..            
-00019870: 6272 6561 6b0d 0a20 2020 2020 2020 2065  break..        e
-00019880: 6c69 6620 636f 756e 7465 7220 3e20 7661  lif counter > va
-00019890: 6c75 653a 0d0a 2020 2020 2020 2020 2020  lue:..          
-000198a0: 2020 6272 6561 6b0d 0a20 2020 2069 6620    break..    if 
-000198b0: 6e6f 7420 696e 6473 3a0d 0a20 2020 2020  not inds:..     
-000198c0: 2020 2069 6e64 7320 3d20 5b30 5d0d 0a20     inds = [0].. 
-000198d0: 2020 2072 6574 7572 6e20 696e 6473 0d0a     return inds..
-000198e0: 0d0a 0d0a 6465 6620 6164 645f 746f 5f6c  ....def add_to_l
-000198f0: 6173 745f 696e 6465 7828 6375 7272 656e  ast_index(curren
-00019900: 745f 6368 6f72 642c 2076 616c 7565 2c20  t_chord, value, 
-00019910: 7374 6172 743d 4e6f 6e65 2c20 7374 6f70  start=None, stop
-00019920: 3d4e 6f6e 652c 2073 7465 703d 3129 3a0d  =None, step=1):.
-00019930: 0a20 2020 2069 6620 7374 6172 7420 6973  .    if start is
-00019940: 204e 6f6e 653a 0d0a 2020 2020 2020 2020   None:..        
-00019950: 7374 6172 7420 3d20 300d 0a20 2020 2069  start = 0..    i
-00019960: 6620 7374 6f70 2069 7320 4e6f 6e65 3a0d  f stop is None:.
-00019970: 0a20 2020 2020 2020 2073 746f 7020 3d20  .        stop = 
-00019980: 6c65 6e28 6375 7272 656e 745f 6368 6f72  len(current_chor
-00019990: 6429 0d0a 2020 2020 696e 6420 3d20 300d  d)..    ind = 0.
-000199a0: 0a20 2020 2063 6f75 6e74 6572 203d 2030  .    counter = 0
-000199b0: 0d0a 2020 2020 666f 7220 6920 696e 2072  ..    for i in r
-000199c0: 616e 6765 2873 7461 7274 2c20 7374 6f70  ange(start, stop
-000199d0: 2c20 7374 6570 293a 0d0a 2020 2020 2020  , step):..      
-000199e0: 2020 636f 756e 7465 7220 2b3d 2063 7572    counter += cur
-000199f0: 7265 6e74 5f63 686f 7264 5b69 5d0d 0a20  rent_chord[i].. 
-00019a00: 2020 2020 2020 2069 6e64 203d 2069 0d0a         ind = i..
-00019a10: 2020 2020 2020 2020 6966 2063 6f75 6e74          if count
-00019a20: 6572 203d 3d20 7661 6c75 653a 0d0a 2020  er == value:..  
-00019a30: 2020 2020 2020 2020 2020 696e 6420 2b3d            ind +=
-00019a40: 2031 0d0a 2020 2020 2020 2020 2020 2020   1..            
-00019a50: 6272 6561 6b0d 0a20 2020 2020 2020 2065  break..        e
-00019a60: 6c69 6620 636f 756e 7465 7220 3e20 7661  lif counter > va
-00019a70: 6c75 653a 0d0a 2020 2020 2020 2020 2020  lue:..          
-00019a80: 2020 6272 6561 6b0d 0a20 2020 2072 6574    break..    ret
-00019a90: 7572 6e20 696e 640d 0a0d 0a0d 0a64 6566  urn ind......def
-00019aa0: 2068 756d 616e 697a 6528 6375 7272 656e   humanize(curren
-00019ab0: 745f 6368 6f72 642c 0d0a 2020 2020 2020  t_chord,..      
-00019ac0: 2020 2020 2020 2074 696d 696e 675f 7261         timing_ra
-00019ad0: 6e67 653d 5b2d 3120 2f20 3132 382c 2031  nge=[-1 / 128, 1
-00019ae0: 202f 2031 3238 5d2c 0d0a 2020 2020 2020   / 128],..      
-00019af0: 2020 2020 2020 2076 656c 6f63 6974 795f         velocity_
-00019b00: 7261 6e67 653d 5b2d 3130 2c20 3130 5d29  range=[-10, 10])
-00019b10: 3a0d 0a20 2020 2027 2727 0d0a 2020 2020  :..    '''..    
-00019b20: 6164 6420 7261 6e64 6f6d 2064 796e 616d  add random dynam
-00019b30: 6963 2063 6861 6e67 6573 2069 6e20 6769  ic changes in gi
-00019b40: 7665 6e20 7261 6e67 6573 2074 6f20 7469  ven ranges to ti
-00019b50: 6d69 6e67 2061 6e64 2076 656c 6f63 6974  ming and velocit
-00019b60: 7920 6f66 206e 6f74 6573 2074 6f20 6120  y of notes to a 
-00019b70: 7069 6563 650d 0a20 2020 2027 2727 0d0a  piece..    '''..
-00019b80: 2020 2020 7465 6d70 203d 2063 6f70 7928      temp = copy(
-00019b90: 6375 7272 656e 745f 6368 6f72 6429 0d0a  current_chord)..
-00019ba0: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
-00019bb0: 6528 7465 6d70 2c20 7069 6563 6529 3a0d  e(temp, piece):.
-00019bc0: 0a20 2020 2020 2020 2074 656d 702e 7472  .        temp.tr
-00019bd0: 6163 6b73 203d 205b 0d0a 2020 2020 2020  acks = [..      
-00019be0: 2020 2020 2020 6875 6d61 6e69 7a65 2865        humanize(e
-00019bf0: 6163 682c 2074 696d 696e 675f 7261 6e67  ach, timing_rang
-00019c00: 652c 2076 656c 6f63 6974 795f 7261 6e67  e, velocity_rang
-00019c10: 6529 0d0a 2020 2020 2020 2020 2020 2020  e)..            
-00019c20: 666f 7220 6561 6368 2069 6e20 7465 6d70  for each in temp
-00019c30: 2e74 7261 636b 730d 0a20 2020 2020 2020  .tracks..       
-00019c40: 205d 0d0a 2020 2020 2020 2020 7265 7475   ]..        retu
-00019c50: 726e 2074 656d 700d 0a20 2020 2065 6c69  rn temp..    eli
-00019c60: 6620 6973 696e 7374 616e 6365 2874 656d  f isinstance(tem
-00019c70: 702c 2063 686f 7264 293a 0d0a 2020 2020  p, chord):..    
-00019c80: 2020 2020 6966 2076 656c 6f63 6974 795f      if velocity_
-00019c90: 7261 6e67 653a 0d0a 2020 2020 2020 2020  range:..        
-00019ca0: 2020 2020 666f 7220 6561 6368 2069 6e20      for each in 
-00019cb0: 7465 6d70 2e6e 6f74 6573 3a0d 0a20 2020  temp.notes:..   
-00019cc0: 2020 2020 2020 2020 2020 2020 2065 6163               eac
-00019cd0: 682e 766f 6c75 6d65 202b 3d20 7261 6e64  h.volume += rand
-00019ce0: 6f6d 2e75 6e69 666f 726d 282a 7665 6c6f  om.uniform(*velo
-00019cf0: 6369 7479 5f72 616e 6765 290d 0a20 2020  city_range)..   
-00019d00: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00019d10: 6561 6368 2e76 6f6c 756d 6520 3c20 303a  each.volume < 0:
-00019d20: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00019d30: 2020 2020 2020 6561 6368 2e76 6f6c 756d        each.volum
-00019d40: 6520 3d20 300d 0a20 2020 2020 2020 2020  e = 0..         
-00019d50: 2020 2020 2020 2065 6c69 6620 6561 6368         elif each
-00019d60: 2e76 6f6c 756d 6520 3e20 3132 373a 0d0a  .volume > 127:..
-00019d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019d80: 2020 2020 6561 6368 2e76 6f6c 756d 6520      each.volume 
-00019d90: 3d20 3132 370d 0a20 2020 2020 2020 2020  = 127..         
-00019da0: 2020 2020 2020 2065 6163 682e 766f 6c75         each.volu
-00019db0: 6d65 203d 2069 6e74 2865 6163 682e 766f  me = int(each.vo
-00019dc0: 6c75 6d65 290d 0a20 2020 2020 2020 2069  lume)..        i
-00019dd0: 6620 7469 6d69 6e67 5f72 616e 6765 3a0d  f timing_range:.
-00019de0: 0a20 2020 2020 2020 2020 2020 2070 6c61  .            pla
-00019df0: 6365 7320 3d20 5b30 5d20 2b20 5b0d 0a20  ces = [0] + [.. 
-00019e00: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00019e10: 756d 2874 656d 702e 696e 7465 7276 616c  um(temp.interval
-00019e20: 5b3a 695d 2920 666f 7220 6920 696e 2072  [:i]) for i in r
-00019e30: 616e 6765 2831 2c0d 0a20 2020 2020 2020  ange(1,..       
+00019860: 7374 6570 290d 0a20 2020 2020 2020 2020  step)..         
+00019870: 2020 2062 7265 616b 0d0a 2020 2020 2020     break..      
+00019880: 2020 656c 6966 2063 6f75 6e74 6572 203e    elif counter >
+00019890: 2076 616c 7565 3a0d 0a20 2020 2020 2020   value:..       
+000198a0: 2020 2020 2062 7265 616b 0d0a 2020 2020       break..    
+000198b0: 6966 206e 6f74 2069 6e64 733a 0d0a 2020  if not inds:..  
+000198c0: 2020 2020 2020 696e 6473 203d 205b 305d        inds = [0]
+000198d0: 0d0a 2020 2020 7265 7475 726e 2069 6e64  ..    return ind
+000198e0: 730d 0a0d 0a0d 0a64 6566 2061 6464 5f74  s......def add_t
+000198f0: 6f5f 6c61 7374 5f69 6e64 6578 2863 7572  o_last_index(cur
+00019900: 7265 6e74 5f63 686f 7264 2c20 7661 6c75  rent_chord, valu
+00019910: 652c 2073 7461 7274 3d4e 6f6e 652c 2073  e, start=None, s
+00019920: 746f 703d 4e6f 6e65 2c20 7374 6570 3d31  top=None, step=1
+00019930: 293a 0d0a 2020 2020 6966 2073 7461 7274  ):..    if start
+00019940: 2069 7320 4e6f 6e65 3a0d 0a20 2020 2020   is None:..     
+00019950: 2020 2073 7461 7274 203d 2030 0d0a 2020     start = 0..  
+00019960: 2020 6966 2073 746f 7020 6973 204e 6f6e    if stop is Non
+00019970: 653a 0d0a 2020 2020 2020 2020 7374 6f70  e:..        stop
+00019980: 203d 206c 656e 2863 7572 7265 6e74 5f63   = len(current_c
+00019990: 686f 7264 290d 0a20 2020 2069 6e64 203d  hord)..    ind =
+000199a0: 2030 0d0a 2020 2020 636f 756e 7465 7220   0..    counter 
+000199b0: 3d20 300d 0a20 2020 2066 6f72 2069 2069  = 0..    for i i
+000199c0: 6e20 7261 6e67 6528 7374 6172 742c 2073  n range(start, s
+000199d0: 746f 702c 2073 7465 7029 3a0d 0a20 2020  top, step):..   
+000199e0: 2020 2020 2063 6f75 6e74 6572 202b 3d20       counter += 
+000199f0: 6375 7272 656e 745f 6368 6f72 645b 695d  current_chord[i]
+00019a00: 0d0a 2020 2020 2020 2020 696e 6420 3d20  ..        ind = 
+00019a10: 690d 0a20 2020 2020 2020 2069 6620 636f  i..        if co
+00019a20: 756e 7465 7220 3d3d 2076 616c 7565 3a0d  unter == value:.
+00019a30: 0a20 2020 2020 2020 2020 2020 2069 6e64  .            ind
+00019a40: 202b 3d20 7374 6570 0d0a 2020 2020 2020   += step..      
+00019a50: 2020 2020 2020 6272 6561 6b0d 0a20 2020        break..   
+00019a60: 2020 2020 2065 6c69 6620 636f 756e 7465       elif counte
+00019a70: 7220 3e20 7661 6c75 653a 0d0a 2020 2020  r > value:..    
+00019a80: 2020 2020 2020 2020 6272 6561 6b0d 0a20          break.. 
+00019a90: 2020 2072 6574 7572 6e20 696e 640d 0a0d     return ind...
+00019aa0: 0a0d 0a64 6566 2068 756d 616e 697a 6528  ...def humanize(
+00019ab0: 6375 7272 656e 745f 6368 6f72 642c 0d0a  current_chord,..
+00019ac0: 2020 2020 2020 2020 2020 2020 2074 696d               tim
+00019ad0: 696e 675f 7261 6e67 653d 5b2d 3120 2f20  ing_range=[-1 / 
+00019ae0: 3132 382c 2031 202f 2031 3238 5d2c 0d0a  128, 1 / 128],..
+00019af0: 2020 2020 2020 2020 2020 2020 2076 656c               vel
+00019b00: 6f63 6974 795f 7261 6e67 653d 5b2d 3130  ocity_range=[-10
+00019b10: 2c20 3130 5d29 3a0d 0a20 2020 2027 2727  , 10]):..    '''
+00019b20: 0d0a 2020 2020 6164 6420 7261 6e64 6f6d  ..    add random
+00019b30: 2064 796e 616d 6963 2063 6861 6e67 6573   dynamic changes
+00019b40: 2069 6e20 6769 7665 6e20 7261 6e67 6573   in given ranges
+00019b50: 2074 6f20 7469 6d69 6e67 2061 6e64 2076   to timing and v
+00019b60: 656c 6f63 6974 7920 6f66 206e 6f74 6573  elocity of notes
+00019b70: 2074 6f20 6120 7069 6563 650d 0a20 2020   to a piece..   
+00019b80: 2027 2727 0d0a 2020 2020 7465 6d70 203d   '''..    temp =
+00019b90: 2063 6f70 7928 6375 7272 656e 745f 6368   copy(current_ch
+00019ba0: 6f72 6429 0d0a 2020 2020 6966 2069 7369  ord)..    if isi
+00019bb0: 6e73 7461 6e63 6528 7465 6d70 2c20 7069  nstance(temp, pi
+00019bc0: 6563 6529 3a0d 0a20 2020 2020 2020 2074  ece):..        t
+00019bd0: 656d 702e 7472 6163 6b73 203d 205b 0d0a  emp.tracks = [..
+00019be0: 2020 2020 2020 2020 2020 2020 6875 6d61              huma
+00019bf0: 6e69 7a65 2865 6163 682c 2074 696d 696e  nize(each, timin
+00019c00: 675f 7261 6e67 652c 2076 656c 6f63 6974  g_range, velocit
+00019c10: 795f 7261 6e67 6529 0d0a 2020 2020 2020  y_range)..      
+00019c20: 2020 2020 2020 666f 7220 6561 6368 2069        for each i
+00019c30: 6e20 7465 6d70 2e74 7261 636b 730d 0a20  n temp.tracks.. 
+00019c40: 2020 2020 2020 205d 0d0a 2020 2020 2020         ]..      
+00019c50: 2020 7265 7475 726e 2074 656d 700d 0a20    return temp.. 
+00019c60: 2020 2065 6c69 6620 6973 696e 7374 616e     elif isinstan
+00019c70: 6365 2874 656d 702c 2063 686f 7264 293a  ce(temp, chord):
+00019c80: 0d0a 2020 2020 2020 2020 6966 2076 656c  ..        if vel
+00019c90: 6f63 6974 795f 7261 6e67 653a 0d0a 2020  ocity_range:..  
+00019ca0: 2020 2020 2020 2020 2020 666f 7220 6561            for ea
+00019cb0: 6368 2069 6e20 7465 6d70 2e6e 6f74 6573  ch in temp.notes
+00019cc0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+00019cd0: 2020 2065 6163 682e 766f 6c75 6d65 202b     each.volume +
+00019ce0: 3d20 7261 6e64 6f6d 2e75 6e69 666f 726d  = random.uniform
+00019cf0: 282a 7665 6c6f 6369 7479 5f72 616e 6765  (*velocity_range
+00019d00: 290d 0a20 2020 2020 2020 2020 2020 2020  )..             
+00019d10: 2020 2069 6620 6561 6368 2e76 6f6c 756d     if each.volum
+00019d20: 6520 3c20 303a 0d0a 2020 2020 2020 2020  e < 0:..        
+00019d30: 2020 2020 2020 2020 2020 2020 6561 6368              each
+00019d40: 2e76 6f6c 756d 6520 3d20 300d 0a20 2020  .volume = 0..   
+00019d50: 2020 2020 2020 2020 2020 2020 2065 6c69               eli
+00019d60: 6620 6561 6368 2e76 6f6c 756d 6520 3e20  f each.volume > 
+00019d70: 3132 373a 0d0a 2020 2020 2020 2020 2020  127:..          
+00019d80: 2020 2020 2020 2020 2020 6561 6368 2e76            each.v
+00019d90: 6f6c 756d 6520 3d20 3132 370d 0a20 2020  olume = 127..   
+00019da0: 2020 2020 2020 2020 2020 2020 2065 6163               eac
+00019db0: 682e 766f 6c75 6d65 203d 2069 6e74 2865  h.volume = int(e
+00019dc0: 6163 682e 766f 6c75 6d65 290d 0a20 2020  ach.volume)..   
+00019dd0: 2020 2020 2069 6620 7469 6d69 6e67 5f72       if timing_r
+00019de0: 616e 6765 3a0d 0a20 2020 2020 2020 2020  ange:..         
+00019df0: 2020 2070 6c61 6365 7320 3d20 5b30 5d20     places = [0] 
+00019e00: 2b20 5b0d 0a20 2020 2020 2020 2020 2020  + [..           
+00019e10: 2020 2020 2073 756d 2874 656d 702e 696e       sum(temp.in
+00019e20: 7465 7276 616c 5b3a 695d 2920 666f 7220  terval[:i]) for 
+00019e30: 6920 696e 2072 616e 6765 2831 2c0d 0a20  i in range(1,.. 
 00019e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00019e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019e60: 2020 2020 2020 2020 2020 2020 2020 206c                 l
-00019e70: 656e 2874 656d 702e 6e6f 7465 7329 202b  en(temp.notes) +
-00019e80: 2031 290d 0a20 2020 2020 2020 2020 2020   1)..           
-00019e90: 205d 0d0a 2020 2020 2020 2020 2020 2020   ]..            
-00019ea0: 706c 6163 6573 203d 205b 706c 6163 6573  places = [places
-00019eb0: 5b30 5d5d 202b 205b 0d0a 2020 2020 2020  [0]] + [..      
-00019ec0: 2020 2020 2020 2020 2020 6561 6368 202b            each +
-00019ed0: 2072 616e 646f 6d2e 6368 6f69 6365 7328   random.choices(
-00019ee0: 5b72 616e 646f 6d2e 756e 6966 6f72 6d28  [random.uniform(
-00019ef0: 2a74 696d 696e 675f 7261 6e67 6529 2c20  *timing_range), 
-00019f00: 305d 295b 305d 0d0a 2020 2020 2020 2020  0])[0]..        
-00019f10: 2020 2020 2020 2020 666f 7220 6561 6368          for each
-00019f20: 2069 6e20 706c 6163 6573 5b31 3a5d 0d0a   in places[1:]..
-00019f30: 2020 2020 2020 2020 2020 2020 5d0d 0a20              ].. 
-00019f40: 2020 2020 2020 2020 2020 2074 656d 702e             temp.
-00019f50: 696e 7465 7276 616c 203d 205b 0d0a 2020  interval = [..  
-00019f60: 2020 2020 2020 2020 2020 2020 2020 6162                ab
-00019f70: 7328 706c 6163 6573 5b69 5d20 2d20 706c  s(places[i] - pl
-00019f80: 6163 6573 5b69 202d 2031 5d29 2066 6f72  aces[i - 1]) for
-00019f90: 2069 2069 6e20 7261 6e67 6528 312c 206c   i in range(1, l
-00019fa0: 656e 2870 6c61 6365 7329 290d 0a20 2020  en(places))..   
-00019fb0: 2020 2020 2020 2020 205d 0d0a 2020 2020           ]..    
-00019fc0: 2020 2020 7265 7475 726e 2074 656d 700d      return temp.
-00019fd0: 0a0d 0a0d 0a64 6566 2077 7269 7465 5f70  .....def write_p
-00019fe0: 6f70 280d 0a20 2020 2020 2020 2073 6361  op(..        sca
-00019ff0: 6c65 5f74 7970 652c 0d0a 2020 2020 2020  le_type,..      
-0001a000: 2020 6c65 6e67 7468 3d5b 3130 2c20 3230    length=[10, 20
-0001a010: 5d2c 0d0a 2020 2020 2020 2020 6d65 6c6f  ],..        melo
-0001a020: 6479 5f69 6e73 3d31 2c0d 0a20 2020 2020  dy_ins=1,..     
-0001a030: 2020 2063 686f 7264 5f69 6e73 3d31 2c0d     chord_ins=1,.
-0001a040: 0a20 2020 2020 2020 2062 706d 3d31 3230  .        bpm=120
-0001a050: 2c0d 0a20 2020 2020 2020 2073 6361 6c65  ,..        scale
-0001a060: 5f74 7970 6532 3d4e 6f6e 652c 0d0a 2020  _type2=None,..  
-0001a070: 2020 2020 2020 6368 6f6f 7365 5f63 686f        choose_cho
-0001a080: 7264 5f6e 6f74 6573 5f6e 756d 3d5b 345d  rd_notes_num=[4]
-0001a090: 2c0d 0a20 2020 2020 2020 2064 6566 6175  ,..        defau
-0001a0a0: 6c74 5f63 686f 7264 5f64 7572 6174 696f  lt_chord_duratio
-0001a0b0: 6e73 3d31 202f 2032 2c0d 0a20 2020 2020  ns=1 / 2,..     
-0001a0c0: 2020 2069 6e76 6572 7369 6f6e 5f68 6967     inversion_hig
-0001a0d0: 6865 7374 5f6e 756d 3d32 2c0d 0a20 2020  hest_num=2,..   
-0001a0e0: 2020 2020 2063 686f 6f73 655f 6368 6f72       choose_chor
-0001a0f0: 645f 696e 7465 7276 616c 733d 5b31 202f  d_intervals=[1 /
-0001a100: 2038 5d2c 0d0a 2020 2020 2020 2020 6368   8],..        ch
-0001a110: 6f6f 7365 5f6d 656c 6f64 795f 6475 7261  oose_melody_dura
-0001a120: 7469 6f6e 733d 5b31 202f 2038 2c20 3120  tions=[1 / 8, 1 
-0001a130: 2f20 3136 2c20 6265 6174 2831 202f 2038  / 16, beat(1 / 8
-0001a140: 2c20 3129 5d2c 0d0a 2020 2020 2020 2020  , 1)],..        
-0001a150: 6368 6f6f 7365 5f73 7461 7274 5f74 696d  choose_start_tim
-0001a160: 6573 3d5b 305d 2c0d 0a20 2020 2020 2020  es=[0],..       
-0001a170: 2063 686f 6f73 655f 6368 6f72 645f 7072   choose_chord_pr
-0001a180: 6f67 7265 7373 696f 6e73 3d4e 6f6e 652c  ogressions=None,
-0001a190: 0d0a 2020 2020 2020 2020 6375 7272 656e  ..        curren
-0001a1a0: 745f 6368 6f6f 7365 5f63 686f 7264 5f70  t_choose_chord_p
-0001a1b0: 726f 6772 6573 7369 6f6e 735f 6c69 7374  rogressions_list
-0001a1c0: 3d4e 6f6e 652c 0d0a 2020 2020 2020 2020  =None,..        
-0001a1d0: 6d65 6c6f 6479 5f63 686f 7264 5f6f 6374  melody_chord_oct
-0001a1e0: 6176 655f 6469 6666 3d32 2c0d 0a20 2020  ave_diff=2,..   
-0001a1f0: 2020 2020 2063 686f 6f73 655f 6d65 6c6f       choose_melo
-0001a200: 6479 5f72 6879 7468 6d73 3d4e 6f6e 652c  dy_rhythms=None,
-0001a210: 0d0a 2020 2020 2020 2020 7769 7468 5f64  ..        with_d
-0001a220: 7275 6d5f 6265 6174 733d 5472 7565 2c0d  rum_beats=True,.
-0001a230: 0a20 2020 2020 2020 2064 7275 6d5f 696e  .        drum_in
-0001a240: 733d 312c 0d0a 2020 2020 2020 2020 7769  s=1,..        wi
-0001a250: 7468 5f62 6173 733d 5472 7565 2c0d 0a20  th_bass=True,.. 
-0001a260: 2020 2020 2020 2062 6173 735f 6f63 7461         bass_octa
-0001a270: 7665 3d32 2c0d 0a20 2020 2020 2020 2063  ve=2,..        c
-0001a280: 686f 6f73 655f 6261 7373 5f72 6879 7468  hoose_bass_rhyth
-0001a290: 6d3d 6461 7461 6261 7365 2e64 6566 6175  m=database.defau
-0001a2a0: 6c74 5f63 686f 6f73 655f 6261 7373 5f72  lt_choose_bass_r
-0001a2b0: 6879 7468 6d2c 0d0a 2020 2020 2020 2020  hythm,..        
-0001a2c0: 6368 6f6f 7365 5f62 6173 735f 7465 6368  choose_bass_tech
-0001a2d0: 6e69 7175 6573 3d64 6174 6162 6173 652e  niques=database.
-0001a2e0: 6465 6661 756c 745f 6368 6f6f 7365 5f62  default_choose_b
-0001a2f0: 6173 735f 706c 6179 696e 675f 7465 6368  ass_playing_tech
-0001a300: 6e69 7175 6573 0d0a 293a 0d0a 2020 2020  niques..):..    
-0001a310: 2727 270d 0a20 2020 2077 7269 7465 2061  '''..    write a
-0001a320: 2070 6f70 2f64 616e 6365 2073 6f6e 6720   pop/dance song 
-0001a330: 7769 7468 206d 656c 6f64 792c 2063 686f  with melody, cho
-0001a340: 7264 732c 2062 6173 7320 616e 6420 6472  rds, bass and dr
-0001a350: 756d 2069 6e20 6120 6769 7665 6e20 6b65  um in a given ke
-0001a360: 792c 0d0a 2020 2020 6375 7272 656e 746c  y,..    currentl
-0001a370: 7920 696e 2064 6576 656c 6f70 6d65 6e74  y in development
-0001a380: 0d0a 2020 2020 2727 270d 0a20 2020 2069  ..    '''..    i
-0001a390: 6620 6973 696e 7374 616e 6365 286c 656e  f isinstance(len
-0001a3a0: 6774 682c 206c 6973 7429 3a0d 0a20 2020  gth, list):..   
-0001a3b0: 2020 2020 206c 656e 6774 6820 3d20 7261       length = ra
-0001a3c0: 6e64 6f6d 2e72 616e 6469 6e74 282a 6c65  ndom.randint(*le
-0001a3d0: 6e67 7468 290d 0a20 2020 2069 6620 6973  ngth)..    if is
-0001a3e0: 696e 7374 616e 6365 2862 706d 2c20 6c69  instance(bpm, li
-0001a3f0: 7374 293a 0d0a 2020 2020 2020 2020 6270  st):..        bp
-0001a400: 6d20 3d20 7261 6e64 6f6d 2e72 616e 6469  m = random.randi
-0001a410: 6e74 282a 6270 6d29 0d0a 2020 2020 6966  nt(*bpm)..    if
-0001a420: 2069 7369 6e73 7461 6e63 6528 6d65 6c6f   isinstance(melo
-0001a430: 6479 5f69 6e73 2c20 6c69 7374 293a 0d0a  dy_ins, list):..
-0001a440: 2020 2020 2020 2020 6d65 6c6f 6479 5f69          melody_i
-0001a450: 6e73 203d 2072 616e 646f 6d2e 6368 6f69  ns = random.choi
-0001a460: 6365 286d 656c 6f64 795f 696e 7329 0d0a  ce(melody_ins)..
-0001a470: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
-0001a480: 6528 6368 6f72 645f 696e 732c 206c 6973  e(chord_ins, lis
-0001a490: 7429 3a0d 0a20 2020 2020 2020 2063 686f  t):..        cho
-0001a4a0: 7264 5f69 6e73 203d 2072 616e 646f 6d2e  rd_ins = random.
-0001a4b0: 6368 6f69 6365 2863 686f 7264 5f69 6e73  choice(chord_ins
-0001a4c0: 290d 0a20 2020 206d 656c 6f64 795f 6f63  )..    melody_oc
-0001a4d0: 7461 7665 203d 2073 6361 6c65 5f74 7970  tave = scale_typ
-0001a4e0: 655b 305d 2e6e 756d 202b 206d 656c 6f64  e[0].num + melod
-0001a4f0: 795f 6368 6f72 645f 6f63 7461 7665 5f64  y_chord_octave_d
-0001a500: 6966 660d 0a20 2020 2069 6620 276d 696e  iff..    if 'min
-0001a510: 6f72 2720 696e 2073 6361 6c65 5f74 7970  or' in scale_typ
-0001a520: 652e 6d6f 6465 3a0d 0a20 2020 2020 2020  e.mode:..       
-0001a530: 2073 6361 6c65 5f74 7970 6520 3d20 7363   scale_type = sc
-0001a540: 616c 655f 7479 7065 2e72 656c 6174 6976  ale_type.relativ
-0001a550: 655f 6b65 7928 290d 0a0d 0a20 2020 2069  e_key()....    i
-0001a560: 6620 6368 6f6f 7365 5f63 686f 7264 5f70  f choose_chord_p
-0001a570: 726f 6772 6573 7369 6f6e 7320 6973 204e  rogressions is N
-0001a580: 6f6e 653a 0d0a 2020 2020 2020 2020 6368  one:..        ch
-0001a590: 6f6f 7365 5f63 686f 7264 5f70 726f 6772  oose_chord_progr
-0001a5a0: 6573 7369 6f6e 7320 3d20 7261 6e64 6f6d  essions = random
-0001a5b0: 2e63 686f 6963 6528 0d0a 2020 2020 2020  .choice(..      
-0001a5c0: 2020 2020 2020 6461 7461 6261 7365 2e63        database.c
-0001a5d0: 686f 6f73 655f 6368 6f72 645f 7072 6f67  hoose_chord_prog
-0001a5e0: 7265 7373 696f 6e73 5f6c 6973 740d 0a20  ressions_list.. 
-0001a5f0: 2020 2020 2020 2020 2020 2069 6620 6375             if cu
-0001a600: 7272 656e 745f 6368 6f6f 7365 5f63 686f  rrent_choose_cho
-0001a610: 7264 5f70 726f 6772 6573 7369 6f6e 735f  rd_progressions_
-0001a620: 6c69 7374 2069 7320 4e6f 6e65 2065 6c73  list is None els
-0001a630: 650d 0a20 2020 2020 2020 2020 2020 2063  e..            c
-0001a640: 7572 7265 6e74 5f63 686f 6f73 655f 6368  urrent_choose_ch
-0001a650: 6f72 645f 7072 6f67 7265 7373 696f 6e73  ord_progressions
-0001a660: 5f6c 6973 7429 0d0a 2020 2020 6368 6f6f  _list)..    choo
-0001a670: 7365 5f63 686f 7264 7320 3d20 7363 616c  se_chords = scal
-0001a680: 655f 7479 7065 2025 2028 6368 6f6f 7365  e_type % (choose
-0001a690: 5f63 686f 7264 5f70 726f 6772 6573 7369  _chord_progressi
-0001a6a0: 6f6e 732c 0d0a 2020 2020 2020 2020 2020  ons,..          
+00019e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019e70: 2020 2020 206c 656e 2874 656d 702e 6e6f       len(temp.no
+00019e80: 7465 7329 202b 2031 290d 0a20 2020 2020  tes) + 1)..     
+00019e90: 2020 2020 2020 205d 0d0a 2020 2020 2020         ]..      
+00019ea0: 2020 2020 2020 706c 6163 6573 203d 205b        places = [
+00019eb0: 706c 6163 6573 5b30 5d5d 202b 205b 0d0a  places[0]] + [..
+00019ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019ed0: 6561 6368 202b 2072 616e 646f 6d2e 6368  each + random.ch
+00019ee0: 6f69 6365 7328 5b72 616e 646f 6d2e 756e  oices([random.un
+00019ef0: 6966 6f72 6d28 2a74 696d 696e 675f 7261  iform(*timing_ra
+00019f00: 6e67 6529 2c20 305d 295b 305d 0d0a 2020  nge), 0])[0]..  
+00019f10: 2020 2020 2020 2020 2020 2020 2020 666f                fo
+00019f20: 7220 6561 6368 2069 6e20 706c 6163 6573  r each in places
+00019f30: 5b31 3a5d 0d0a 2020 2020 2020 2020 2020  [1:]..          
+00019f40: 2020 5d0d 0a20 2020 2020 2020 2020 2020    ]..           
+00019f50: 2074 656d 702e 696e 7465 7276 616c 203d   temp.interval =
+00019f60: 205b 0d0a 2020 2020 2020 2020 2020 2020   [..            
+00019f70: 2020 2020 6162 7328 706c 6163 6573 5b69      abs(places[i
+00019f80: 5d20 2d20 706c 6163 6573 5b69 202d 2031  ] - places[i - 1
+00019f90: 5d29 2066 6f72 2069 2069 6e20 7261 6e67  ]) for i in rang
+00019fa0: 6528 312c 206c 656e 2870 6c61 6365 7329  e(1, len(places)
+00019fb0: 290d 0a20 2020 2020 2020 2020 2020 205d  )..            ]
+00019fc0: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+00019fd0: 2074 656d 700d 0a0d 0a0d 0a64 6566 2077   temp......def w
+00019fe0: 7269 7465 5f70 6f70 280d 0a20 2020 2020  rite_pop(..     
+00019ff0: 2020 2073 6361 6c65 5f74 7970 652c 0d0a     scale_type,..
+0001a000: 2020 2020 2020 2020 6c65 6e67 7468 3d5b          length=[
+0001a010: 3130 2c20 3230 5d2c 0d0a 2020 2020 2020  10, 20],..      
+0001a020: 2020 6d65 6c6f 6479 5f69 6e73 3d31 2c0d    melody_ins=1,.
+0001a030: 0a20 2020 2020 2020 2063 686f 7264 5f69  .        chord_i
+0001a040: 6e73 3d31 2c0d 0a20 2020 2020 2020 2062  ns=1,..        b
+0001a050: 706d 3d31 3230 2c0d 0a20 2020 2020 2020  pm=120,..       
+0001a060: 2073 6361 6c65 5f74 7970 6532 3d4e 6f6e   scale_type2=Non
+0001a070: 652c 0d0a 2020 2020 2020 2020 6368 6f6f  e,..        choo
+0001a080: 7365 5f63 686f 7264 5f6e 6f74 6573 5f6e  se_chord_notes_n
+0001a090: 756d 3d5b 345d 2c0d 0a20 2020 2020 2020  um=[4],..       
+0001a0a0: 2064 6566 6175 6c74 5f63 686f 7264 5f64   default_chord_d
+0001a0b0: 7572 6174 696f 6e73 3d31 202f 2032 2c0d  urations=1 / 2,.
+0001a0c0: 0a20 2020 2020 2020 2069 6e76 6572 7369  .        inversi
+0001a0d0: 6f6e 5f68 6967 6865 7374 5f6e 756d 3d32  on_highest_num=2
+0001a0e0: 2c0d 0a20 2020 2020 2020 2063 686f 6f73  ,..        choos
+0001a0f0: 655f 6368 6f72 645f 696e 7465 7276 616c  e_chord_interval
+0001a100: 733d 5b31 202f 2038 5d2c 0d0a 2020 2020  s=[1 / 8],..    
+0001a110: 2020 2020 6368 6f6f 7365 5f6d 656c 6f64      choose_melod
+0001a120: 795f 6475 7261 7469 6f6e 733d 5b31 202f  y_durations=[1 /
+0001a130: 2038 2c20 3120 2f20 3136 2c20 6265 6174   8, 1 / 16, beat
+0001a140: 2831 202f 2038 2c20 3129 5d2c 0d0a 2020  (1 / 8, 1)],..  
+0001a150: 2020 2020 2020 6368 6f6f 7365 5f73 7461        choose_sta
+0001a160: 7274 5f74 696d 6573 3d5b 305d 2c0d 0a20  rt_times=[0],.. 
+0001a170: 2020 2020 2020 2063 686f 6f73 655f 6368         choose_ch
+0001a180: 6f72 645f 7072 6f67 7265 7373 696f 6e73  ord_progressions
+0001a190: 3d4e 6f6e 652c 0d0a 2020 2020 2020 2020  =None,..        
+0001a1a0: 6375 7272 656e 745f 6368 6f6f 7365 5f63  current_choose_c
+0001a1b0: 686f 7264 5f70 726f 6772 6573 7369 6f6e  hord_progression
+0001a1c0: 735f 6c69 7374 3d4e 6f6e 652c 0d0a 2020  s_list=None,..  
+0001a1d0: 2020 2020 2020 6d65 6c6f 6479 5f63 686f        melody_cho
+0001a1e0: 7264 5f6f 6374 6176 655f 6469 6666 3d32  rd_octave_diff=2
+0001a1f0: 2c0d 0a20 2020 2020 2020 2063 686f 6f73  ,..        choos
+0001a200: 655f 6d65 6c6f 6479 5f72 6879 7468 6d73  e_melody_rhythms
+0001a210: 3d4e 6f6e 652c 0d0a 2020 2020 2020 2020  =None,..        
+0001a220: 7769 7468 5f64 7275 6d5f 6265 6174 733d  with_drum_beats=
+0001a230: 5472 7565 2c0d 0a20 2020 2020 2020 2064  True,..        d
+0001a240: 7275 6d5f 696e 733d 312c 0d0a 2020 2020  rum_ins=1,..    
+0001a250: 2020 2020 7769 7468 5f62 6173 733d 5472      with_bass=Tr
+0001a260: 7565 2c0d 0a20 2020 2020 2020 2062 6173  ue,..        bas
+0001a270: 735f 6f63 7461 7665 3d32 2c0d 0a20 2020  s_octave=2,..   
+0001a280: 2020 2020 2063 686f 6f73 655f 6261 7373       choose_bass
+0001a290: 5f72 6879 7468 6d3d 6461 7461 6261 7365  _rhythm=database
+0001a2a0: 2e64 6566 6175 6c74 5f63 686f 6f73 655f  .default_choose_
+0001a2b0: 6261 7373 5f72 6879 7468 6d2c 0d0a 2020  bass_rhythm,..  
+0001a2c0: 2020 2020 2020 6368 6f6f 7365 5f62 6173        choose_bas
+0001a2d0: 735f 7465 6368 6e69 7175 6573 3d64 6174  s_techniques=dat
+0001a2e0: 6162 6173 652e 6465 6661 756c 745f 6368  abase.default_ch
+0001a2f0: 6f6f 7365 5f62 6173 735f 706c 6179 696e  oose_bass_playin
+0001a300: 675f 7465 6368 6e69 7175 6573 0d0a 293a  g_techniques..):
+0001a310: 0d0a 2020 2020 2727 270d 0a20 2020 2077  ..    '''..    w
+0001a320: 7269 7465 2061 2070 6f70 2f64 616e 6365  rite a pop/dance
+0001a330: 2073 6f6e 6720 7769 7468 206d 656c 6f64   song with melod
+0001a340: 792c 2063 686f 7264 732c 2062 6173 7320  y, chords, bass 
+0001a350: 616e 6420 6472 756d 2069 6e20 6120 6769  and drum in a gi
+0001a360: 7665 6e20 6b65 792c 0d0a 2020 2020 6375  ven key,..    cu
+0001a370: 7272 656e 746c 7920 696e 2064 6576 656c  rrently in devel
+0001a380: 6f70 6d65 6e74 0d0a 2020 2020 2727 270d  opment..    '''.
+0001a390: 0a20 2020 2069 6620 6973 696e 7374 616e  .    if isinstan
+0001a3a0: 6365 286c 656e 6774 682c 206c 6973 7429  ce(length, list)
+0001a3b0: 3a0d 0a20 2020 2020 2020 206c 656e 6774  :..        lengt
+0001a3c0: 6820 3d20 7261 6e64 6f6d 2e72 616e 6469  h = random.randi
+0001a3d0: 6e74 282a 6c65 6e67 7468 290d 0a20 2020  nt(*length)..   
+0001a3e0: 2069 6620 6973 696e 7374 616e 6365 2862   if isinstance(b
+0001a3f0: 706d 2c20 6c69 7374 293a 0d0a 2020 2020  pm, list):..    
+0001a400: 2020 2020 6270 6d20 3d20 7261 6e64 6f6d      bpm = random
+0001a410: 2e72 616e 6469 6e74 282a 6270 6d29 0d0a  .randint(*bpm)..
+0001a420: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
+0001a430: 6528 6d65 6c6f 6479 5f69 6e73 2c20 6c69  e(melody_ins, li
+0001a440: 7374 293a 0d0a 2020 2020 2020 2020 6d65  st):..        me
+0001a450: 6c6f 6479 5f69 6e73 203d 2072 616e 646f  lody_ins = rando
+0001a460: 6d2e 6368 6f69 6365 286d 656c 6f64 795f  m.choice(melody_
+0001a470: 696e 7329 0d0a 2020 2020 6966 2069 7369  ins)..    if isi
+0001a480: 6e73 7461 6e63 6528 6368 6f72 645f 696e  nstance(chord_in
+0001a490: 732c 206c 6973 7429 3a0d 0a20 2020 2020  s, list):..     
+0001a4a0: 2020 2063 686f 7264 5f69 6e73 203d 2072     chord_ins = r
+0001a4b0: 616e 646f 6d2e 6368 6f69 6365 2863 686f  andom.choice(cho
+0001a4c0: 7264 5f69 6e73 290d 0a20 2020 206d 656c  rd_ins)..    mel
+0001a4d0: 6f64 795f 6f63 7461 7665 203d 2073 6361  ody_octave = sca
+0001a4e0: 6c65 5f74 7970 655b 305d 2e6e 756d 202b  le_type[0].num +
+0001a4f0: 206d 656c 6f64 795f 6368 6f72 645f 6f63   melody_chord_oc
+0001a500: 7461 7665 5f64 6966 660d 0a20 2020 2069  tave_diff..    i
+0001a510: 6620 276d 696e 6f72 2720 696e 2073 6361  f 'minor' in sca
+0001a520: 6c65 5f74 7970 652e 6d6f 6465 3a0d 0a20  le_type.mode:.. 
+0001a530: 2020 2020 2020 2073 6361 6c65 5f74 7970         scale_typ
+0001a540: 6520 3d20 7363 616c 655f 7479 7065 2e72  e = scale_type.r
+0001a550: 656c 6174 6976 655f 6b65 7928 290d 0a0d  elative_key()...
+0001a560: 0a20 2020 2069 6620 6368 6f6f 7365 5f63  .    if choose_c
+0001a570: 686f 7264 5f70 726f 6772 6573 7369 6f6e  hord_progression
+0001a580: 7320 6973 204e 6f6e 653a 0d0a 2020 2020  s is None:..    
+0001a590: 2020 2020 6368 6f6f 7365 5f63 686f 7264      choose_chord
+0001a5a0: 5f70 726f 6772 6573 7369 6f6e 7320 3d20  _progressions = 
+0001a5b0: 7261 6e64 6f6d 2e63 686f 6963 6528 0d0a  random.choice(..
+0001a5c0: 2020 2020 2020 2020 2020 2020 6461 7461              data
+0001a5d0: 6261 7365 2e63 686f 6f73 655f 6368 6f72  base.choose_chor
+0001a5e0: 645f 7072 6f67 7265 7373 696f 6e73 5f6c  d_progressions_l
+0001a5f0: 6973 740d 0a20 2020 2020 2020 2020 2020  ist..           
+0001a600: 2069 6620 6375 7272 656e 745f 6368 6f6f   if current_choo
+0001a610: 7365 5f63 686f 7264 5f70 726f 6772 6573  se_chord_progres
+0001a620: 7369 6f6e 735f 6c69 7374 2069 7320 4e6f  sions_list is No
+0001a630: 6e65 2065 6c73 650d 0a20 2020 2020 2020  ne else..       
+0001a640: 2020 2020 2063 7572 7265 6e74 5f63 686f       current_cho
+0001a650: 6f73 655f 6368 6f72 645f 7072 6f67 7265  ose_chord_progre
+0001a660: 7373 696f 6e73 5f6c 6973 7429 0d0a 2020  ssions_list)..  
+0001a670: 2020 6368 6f6f 7365 5f63 686f 7264 7320    choose_chords 
+0001a680: 3d20 7363 616c 655f 7479 7065 2025 2028  = scale_type % (
+0001a690: 6368 6f6f 7365 5f63 686f 7264 5f70 726f  choose_chord_pro
+0001a6a0: 6772 6573 7369 6f6e 732c 0d0a 2020 2020  gressions,..    
 0001a6b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a6c0: 2020 2020 2020 2020 6465 6661 756c 745f          default_
-0001a6d0: 6368 6f72 645f 6475 7261 7469 6f6e 732c  chord_durations,
-0001a6e0: 2030 2c0d 0a20 2020 2020 2020 2020 2020   0,..           
+0001a6c0: 2020 2020 2020 2020 2020 2020 2020 6465                de
+0001a6d0: 6661 756c 745f 6368 6f72 645f 6475 7261  fault_chord_dura
+0001a6e0: 7469 6f6e 732c 2030 2c0d 0a20 2020 2020  tions, 0,..     
 0001a6f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a700: 2020 2020 2020 2072 616e 646f 6d2e 6368         random.ch
-0001a710: 6f69 6365 2863 686f 6f73 655f 6368 6f72  oice(choose_chor
-0001a720: 645f 6e6f 7465 735f 6e75 6d29 290d 0a20  d_notes_num)).. 
-0001a730: 2020 2066 6f72 2069 2069 6e20 7261 6e67     for i in rang
-0001a740: 6528 6c65 6e28 6368 6f6f 7365 5f63 686f  e(len(choose_cho
-0001a750: 7264 7329 293a 0d0a 2020 2020 2020 2020  rds)):..        
-0001a760: 6561 6368 203d 2063 686f 6f73 655f 6368  each = choose_ch
-0001a770: 6f72 6473 5b69 5d0d 0a20 2020 2020 2020  ords[i]..       
-0001a780: 2069 6620 6561 6368 5b30 5d20 3d3d 2073   if each[0] == s
-0001a790: 6361 6c65 5f74 7970 655b 345d 3a0d 0a20  cale_type[4]:.. 
-0001a7a0: 2020 2020 2020 2020 2020 2065 6163 6820             each 
-0001a7b0: 3d20 4328 6627 7b73 6361 6c65 5f74 7970  = C(f'{scale_typ
-0001a7c0: 655b 345d 2e6e 616d 657d 272c 0d0a 2020  e[4].name}',..  
-0001a7d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a7e0: 2020 2065 6163 685b 305d 2e6e 756d 2c0d     each[0].num,.
-0001a7f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001a800: 2020 2020 2020 6475 7261 7469 6f6e 3d64        duration=d
-0001a810: 6566 6175 6c74 5f63 686f 7264 5f64 7572  efault_chord_dur
-0001a820: 6174 696f 6e73 2920 4020 5b31 2c20 322c  ations) @ [1, 2,
-0001a830: 2033 2c20 312e 315d 0d0a 2020 2020 2020   3, 1.1]..      
-0001a840: 2020 2020 2020 6368 6f6f 7365 5f63 686f        choose_cho
-0001a850: 7264 735b 695d 203d 2065 6163 680d 0a0d  rds[i] = each...
-0001a860: 0a20 2020 2069 6620 696e 7665 7273 696f  .    if inversio
-0001a870: 6e5f 6869 6768 6573 745f 6e75 6d20 6973  n_highest_num is
-0001a880: 206e 6f74 204e 6f6e 653a 0d0a 2020 2020   not None:..    
-0001a890: 2020 2020 6368 6f6f 7365 5f63 686f 7264      choose_chord
-0001a8a0: 7320 3d20 5b69 205e 2069 6e76 6572 7369  s = [i ^ inversi
-0001a8b0: 6f6e 5f68 6967 6865 7374 5f6e 756d 2066  on_highest_num f
-0001a8c0: 6f72 2069 2069 6e20 6368 6f6f 7365 5f63  or i in choose_c
-0001a8d0: 686f 7264 735d 0d0a 2020 2020 6368 6f72  hords]..    chor
-0001a8e0: 645f 6e75 6d20 3d20 6c65 6e28 6368 6f6f  d_num = len(choo
-0001a8f0: 7365 5f63 686f 7264 7329 0d0a 2020 2020  se_chords)..    
-0001a900: 6c65 6e67 7468 5f63 6f75 6e74 203d 2030  length_count = 0
-0001a910: 0d0a 2020 2020 6368 6f72 645f 696e 6420  ..    chord_ind 
-0001a920: 3d20 300d 0a20 2020 206d 656c 6f64 7920  = 0..    melody 
-0001a930: 3d20 6368 6f72 6428 5b5d 290d 0a20 2020  = chord([])..   
-0001a940: 2063 686f 7264 735f 7061 7274 203d 2063   chords_part = c
-0001a950: 686f 7264 285b 5d29 0d0a 2020 2020 6966  hord([])..    if
-0001a960: 2077 6974 685f 6261 7373 3a0d 0a20 2020   with_bass:..   
-0001a970: 2020 2020 2062 6173 735f 7061 7274 203d       bass_part =
-0001a980: 2063 686f 7264 285b 5d29 0d0a 2020 2020   chord([])..    
-0001a990: 2020 2020 6375 7272 656e 745f 6261 7373      current_bass
-0001a9a0: 5f74 6563 686e 6971 7565 7320 3d20 4e6f  _techniques = No
-0001a9b0: 6e65 0d0a 2020 2020 2020 2020 6966 2063  ne..        if c
-0001a9c0: 686f 6f73 655f 6261 7373 5f74 6563 686e  hoose_bass_techn
-0001a9d0: 6971 7565 7320 6973 206e 6f74 204e 6f6e  iques is not Non
-0001a9e0: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
-0001a9f0: 6375 7272 656e 745f 6261 7373 5f74 6563  current_bass_tec
-0001aa00: 686e 6971 7565 7320 3d20 7261 6e64 6f6d  hniques = random
-0001aa10: 2e63 686f 6963 6528 6368 6f6f 7365 5f62  .choice(choose_b
-0001aa20: 6173 735f 7465 6368 6e69 7175 6573 290d  ass_techniques).
-0001aa30: 0a20 2020 2077 6869 6c65 206c 656e 6774  .    while lengt
-0001aa40: 685f 636f 756e 7420 3c20 6c65 6e67 7468  h_count < length
-0001aa50: 3a0d 0a20 2020 2020 2020 2063 7572 7265  :..        curre
-0001aa60: 6e74 5f63 686f 7264 203d 2063 686f 6f73  nt_chord = choos
-0001aa70: 655f 6368 6f72 6473 5b63 686f 7264 5f69  e_chords[chord_i
-0001aa80: 6e64 5d0d 0a20 2020 2020 2020 2063 7572  nd]..        cur
-0001aa90: 7265 6e74 5f63 686f 7264 5f69 6e74 6572  rent_chord_inter
-0001aaa0: 7661 6c20 3d20 7261 6e64 6f6d 2e63 686f  val = random.cho
-0001aab0: 6963 6528 6368 6f6f 7365 5f63 686f 7264  ice(choose_chord
-0001aac0: 5f69 6e74 6572 7661 6c73 290d 0a20 2020  _intervals)..   
-0001aad0: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
-0001aae0: 6365 2863 7572 7265 6e74 5f63 686f 7264  ce(current_chord
-0001aaf0: 5f69 6e74 6572 7661 6c2c 2062 6561 7429  _interval, beat)
-0001ab00: 3a0d 0a20 2020 2020 2020 2020 2020 2063  :..            c
-0001ab10: 7572 7265 6e74 5f63 686f 7264 5f69 6e74  urrent_chord_int
-0001ab20: 6572 7661 6c20 3d20 6375 7272 656e 745f  erval = current_
-0001ab30: 6368 6f72 645f 696e 7465 7276 616c 2e67  chord_interval.g
-0001ab40: 6574 5f64 7572 6174 696f 6e28 290d 0a20  et_duration().. 
-0001ab50: 2020 2020 2020 2063 7572 7265 6e74 5f63         current_c
-0001ab60: 686f 7264 203d 2063 7572 7265 6e74 5f63  hord = current_c
-0001ab70: 686f 7264 2e73 6574 2869 6e74 6572 7661  hord.set(interva
-0001ab80: 6c3d 6375 7272 656e 745f 6368 6f72 645f  l=current_chord_
-0001ab90: 696e 7465 7276 616c 290d 0a20 2020 2020  interval)..     
-0001aba0: 2020 2063 7572 7265 6e74 5f63 686f 7264     current_chord
-0001abb0: 5f6c 656e 6774 6820 3d20 6375 7272 656e  _length = curren
-0001abc0: 745f 6368 6f72 642e 6261 7273 286d 6f64  t_chord.bars(mod
-0001abd0: 653d 3029 0d0a 2020 2020 2020 2020 6368  e=0)..        ch
-0001abe0: 6f72 6473 5f70 6172 7420 7c3d 2063 7572  ords_part |= cur
-0001abf0: 7265 6e74 5f63 686f 7264 0d0a 2020 2020  rent_chord..    
-0001ac00: 2020 2020 6c65 6e67 7468 5f63 6f75 6e74      length_count
-0001ac10: 203d 2063 686f 7264 735f 7061 7274 2e62   = chords_part.b
-0001ac20: 6172 7328 6d6f 6465 3d30 290d 0a20 2020  ars(mode=0)..   
-0001ac30: 2020 2020 2069 6620 7769 7468 5f62 6173       if with_bas
-0001ac40: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
-0001ac50: 6375 7272 656e 745f 6368 6f72 645f 746f  current_chord_to
-0001ac60: 6e69 6320 3d20 6e6f 7465 280d 0a20 2020  nic = note(..   
-0001ac70: 2020 2020 2020 2020 2020 2020 2073 6361               sca
-0001ac80: 6c65 5f74 7970 655b 696e 7428 6368 6f6f  le_type[int(choo
-0001ac90: 7365 5f63 686f 7264 5f70 726f 6772 6573  se_chord_progres
-0001aca0: 7369 6f6e 735b 6368 6f72 645f 696e 645d  sions[chord_ind]
-0001acb0: 2920 2d20 315d 2e6e 616d 652c 0d0a 2020  ) - 1].name,..  
-0001acc0: 2020 2020 2020 2020 2020 2020 2020 6261                ba
-0001acd0: 7373 5f6f 6374 6176 6529 0d0a 2020 2020  ss_octave)..    
-0001ace0: 2020 2020 2020 2020 6966 2063 686f 6f73          if choos
-0001acf0: 655f 6261 7373 5f72 6879 7468 6d20 6973  e_bass_rhythm is
-0001ad00: 204e 6f6e 653a 0d0a 2020 2020 2020 2020   None:..        
-0001ad10: 2020 2020 2020 2020 6375 7272 656e 745f          current_
-0001ad20: 6261 7373 5f70 6172 7420 3d20 6368 6f72  bass_part = chor
-0001ad30: 6428 5b63 7572 7265 6e74 5f63 686f 7264  d([current_chord
-0001ad40: 5f74 6f6e 6963 5d29 2025 2028 0d0a 2020  _tonic]) % (..  
-0001ad50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ad60: 2020 6375 7272 656e 745f 6368 6f72 645f    current_chord_
-0001ad70: 6c65 6e67 7468 2c20 6375 7272 656e 745f  length, current_
-0001ad80: 6368 6f72 645f 6c65 6e67 7468 290d 0a20  chord_length).. 
-0001ad90: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-0001ada0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0001adb0: 2020 6375 7272 656e 745f 6261 7373 5f70    current_bass_p
-0001adc0: 6172 7420 3d20 6765 745f 6368 6f72 6473  art = get_chords
-0001add0: 5f66 726f 6d5f 7268 7974 686d 280d 0a20  _from_rhythm(.. 
-0001ade0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001adf0: 2020 2063 686f 7264 285b 6375 7272 656e     chord([curren
-0001ae00: 745f 6368 6f72 645f 746f 6e69 635d 292c  t_chord_tonic]),
-0001ae10: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0001ae20: 2020 2020 2020 7268 7974 686d 282a 7261        rhythm(*ra
-0001ae30: 6e64 6f6d 2e63 686f 6963 6528 6368 6f6f  ndom.choice(choo
-0001ae40: 7365 5f62 6173 735f 7268 7974 686d 2929  se_bass_rhythm))
-0001ae50: 290d 0a20 2020 2020 2020 2020 2020 2020  )..             
-0001ae60: 2020 2069 6620 6375 7272 656e 745f 6261     if current_ba
-0001ae70: 7373 5f74 6563 686e 6971 7565 733a 0d0a  ss_techniques:..
-0001ae80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ae90: 2020 2020 6966 2063 7572 7265 6e74 5f62      if current_b
-0001aea0: 6173 735f 7465 6368 6e69 7175 6573 203d  ass_techniques =
-0001aeb0: 3d20 276f 6374 6176 6573 273a 0d0a 2020  = 'octaves':..  
-0001aec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001aed0: 2020 2020 2020 6966 206c 656e 2863 7572        if len(cur
-0001aee0: 7265 6e74 5f62 6173 735f 7061 7274 2920  rent_bass_part) 
-0001aef0: 3e20 313a 0d0a 2020 2020 2020 2020 2020  > 1:..          
+0001a700: 2020 2020 2020 2020 2020 2020 2072 616e               ran
+0001a710: 646f 6d2e 6368 6f69 6365 2863 686f 6f73  dom.choice(choos
+0001a720: 655f 6368 6f72 645f 6e6f 7465 735f 6e75  e_chord_notes_nu
+0001a730: 6d29 290d 0a20 2020 2066 6f72 2069 2069  m))..    for i i
+0001a740: 6e20 7261 6e67 6528 6c65 6e28 6368 6f6f  n range(len(choo
+0001a750: 7365 5f63 686f 7264 7329 293a 0d0a 2020  se_chords)):..  
+0001a760: 2020 2020 2020 6561 6368 203d 2063 686f        each = cho
+0001a770: 6f73 655f 6368 6f72 6473 5b69 5d0d 0a20  ose_chords[i].. 
+0001a780: 2020 2020 2020 2069 6620 6561 6368 5b30         if each[0
+0001a790: 5d20 3d3d 2073 6361 6c65 5f74 7970 655b  ] == scale_type[
+0001a7a0: 345d 3a0d 0a20 2020 2020 2020 2020 2020  4]:..           
+0001a7b0: 2065 6163 6820 3d20 4328 6627 7b73 6361   each = C(f'{sca
+0001a7c0: 6c65 5f74 7970 655b 345d 2e6e 616d 657d  le_type[4].name}
+0001a7d0: 272c 0d0a 2020 2020 2020 2020 2020 2020  ',..            
+0001a7e0: 2020 2020 2020 2020 2065 6163 685b 305d           each[0]
+0001a7f0: 2e6e 756d 2c0d 0a20 2020 2020 2020 2020  .num,..         
+0001a800: 2020 2020 2020 2020 2020 2020 6475 7261              dura
+0001a810: 7469 6f6e 3d64 6566 6175 6c74 5f63 686f  tion=default_cho
+0001a820: 7264 5f64 7572 6174 696f 6e73 2920 4020  rd_durations) @ 
+0001a830: 5b31 2c20 322c 2033 2c20 312e 315d 0d0a  [1, 2, 3, 1.1]..
+0001a840: 2020 2020 2020 2020 2020 2020 6368 6f6f              choo
+0001a850: 7365 5f63 686f 7264 735b 695d 203d 2065  se_chords[i] = e
+0001a860: 6163 680d 0a0d 0a20 2020 2069 6620 696e  ach....    if in
+0001a870: 7665 7273 696f 6e5f 6869 6768 6573 745f  version_highest_
+0001a880: 6e75 6d20 6973 206e 6f74 204e 6f6e 653a  num is not None:
+0001a890: 0d0a 2020 2020 2020 2020 6368 6f6f 7365  ..        choose
+0001a8a0: 5f63 686f 7264 7320 3d20 5b69 205e 2069  _chords = [i ^ i
+0001a8b0: 6e76 6572 7369 6f6e 5f68 6967 6865 7374  nversion_highest
+0001a8c0: 5f6e 756d 2066 6f72 2069 2069 6e20 6368  _num for i in ch
+0001a8d0: 6f6f 7365 5f63 686f 7264 735d 0d0a 2020  oose_chords]..  
+0001a8e0: 2020 6368 6f72 645f 6e75 6d20 3d20 6c65    chord_num = le
+0001a8f0: 6e28 6368 6f6f 7365 5f63 686f 7264 7329  n(choose_chords)
+0001a900: 0d0a 2020 2020 6c65 6e67 7468 5f63 6f75  ..    length_cou
+0001a910: 6e74 203d 2030 0d0a 2020 2020 6368 6f72  nt = 0..    chor
+0001a920: 645f 696e 6420 3d20 300d 0a20 2020 206d  d_ind = 0..    m
+0001a930: 656c 6f64 7920 3d20 6368 6f72 6428 5b5d  elody = chord([]
+0001a940: 290d 0a20 2020 2063 686f 7264 735f 7061  )..    chords_pa
+0001a950: 7274 203d 2063 686f 7264 285b 5d29 0d0a  rt = chord([])..
+0001a960: 2020 2020 6966 2077 6974 685f 6261 7373      if with_bass
+0001a970: 3a0d 0a20 2020 2020 2020 2062 6173 735f  :..        bass_
+0001a980: 7061 7274 203d 2063 686f 7264 285b 5d29  part = chord([])
+0001a990: 0d0a 2020 2020 2020 2020 6375 7272 656e  ..        curren
+0001a9a0: 745f 6261 7373 5f74 6563 686e 6971 7565  t_bass_technique
+0001a9b0: 7320 3d20 4e6f 6e65 0d0a 2020 2020 2020  s = None..      
+0001a9c0: 2020 6966 2063 686f 6f73 655f 6261 7373    if choose_bass
+0001a9d0: 5f74 6563 686e 6971 7565 7320 6973 206e  _techniques is n
+0001a9e0: 6f74 204e 6f6e 653a 0d0a 2020 2020 2020  ot None:..      
+0001a9f0: 2020 2020 2020 6375 7272 656e 745f 6261        current_ba
+0001aa00: 7373 5f74 6563 686e 6971 7565 7320 3d20  ss_techniques = 
+0001aa10: 7261 6e64 6f6d 2e63 686f 6963 6528 6368  random.choice(ch
+0001aa20: 6f6f 7365 5f62 6173 735f 7465 6368 6e69  oose_bass_techni
+0001aa30: 7175 6573 290d 0a20 2020 2077 6869 6c65  ques)..    while
+0001aa40: 206c 656e 6774 685f 636f 756e 7420 3c20   length_count < 
+0001aa50: 6c65 6e67 7468 3a0d 0a20 2020 2020 2020  length:..       
+0001aa60: 2063 7572 7265 6e74 5f63 686f 7264 203d   current_chord =
+0001aa70: 2063 686f 6f73 655f 6368 6f72 6473 5b63   choose_chords[c
+0001aa80: 686f 7264 5f69 6e64 5d0d 0a20 2020 2020  hord_ind]..     
+0001aa90: 2020 2063 7572 7265 6e74 5f63 686f 7264     current_chord
+0001aaa0: 5f69 6e74 6572 7661 6c20 3d20 7261 6e64  _interval = rand
+0001aab0: 6f6d 2e63 686f 6963 6528 6368 6f6f 7365  om.choice(choose
+0001aac0: 5f63 686f 7264 5f69 6e74 6572 7661 6c73  _chord_intervals
+0001aad0: 290d 0a20 2020 2020 2020 2069 6620 6973  )..        if is
+0001aae0: 696e 7374 616e 6365 2863 7572 7265 6e74  instance(current
+0001aaf0: 5f63 686f 7264 5f69 6e74 6572 7661 6c2c  _chord_interval,
+0001ab00: 2062 6561 7429 3a0d 0a20 2020 2020 2020   beat):..       
+0001ab10: 2020 2020 2063 7572 7265 6e74 5f63 686f       current_cho
+0001ab20: 7264 5f69 6e74 6572 7661 6c20 3d20 6375  rd_interval = cu
+0001ab30: 7272 656e 745f 6368 6f72 645f 696e 7465  rrent_chord_inte
+0001ab40: 7276 616c 2e67 6574 5f64 7572 6174 696f  rval.get_duratio
+0001ab50: 6e28 290d 0a20 2020 2020 2020 2063 7572  n()..        cur
+0001ab60: 7265 6e74 5f63 686f 7264 203d 2063 7572  rent_chord = cur
+0001ab70: 7265 6e74 5f63 686f 7264 2e73 6574 2869  rent_chord.set(i
+0001ab80: 6e74 6572 7661 6c3d 6375 7272 656e 745f  nterval=current_
+0001ab90: 6368 6f72 645f 696e 7465 7276 616c 290d  chord_interval).
+0001aba0: 0a20 2020 2020 2020 2063 7572 7265 6e74  .        current
+0001abb0: 5f63 686f 7264 5f6c 656e 6774 6820 3d20  _chord_length = 
+0001abc0: 6375 7272 656e 745f 6368 6f72 642e 6261  current_chord.ba
+0001abd0: 7273 286d 6f64 653d 3029 0d0a 2020 2020  rs(mode=0)..    
+0001abe0: 2020 2020 6368 6f72 6473 5f70 6172 7420      chords_part 
+0001abf0: 7c3d 2063 7572 7265 6e74 5f63 686f 7264  |= current_chord
+0001ac00: 0d0a 2020 2020 2020 2020 6c65 6e67 7468  ..        length
+0001ac10: 5f63 6f75 6e74 203d 2063 686f 7264 735f  _count = chords_
+0001ac20: 7061 7274 2e62 6172 7328 6d6f 6465 3d30  part.bars(mode=0
+0001ac30: 290d 0a20 2020 2020 2020 2069 6620 7769  )..        if wi
+0001ac40: 7468 5f62 6173 733a 0d0a 2020 2020 2020  th_bass:..      
+0001ac50: 2020 2020 2020 6375 7272 656e 745f 6368        current_ch
+0001ac60: 6f72 645f 746f 6e69 6320 3d20 6e6f 7465  ord_tonic = note
+0001ac70: 280d 0a20 2020 2020 2020 2020 2020 2020  (..             
+0001ac80: 2020 2073 6361 6c65 5f74 7970 655b 696e     scale_type[in
+0001ac90: 7428 6368 6f6f 7365 5f63 686f 7264 5f70  t(choose_chord_p
+0001aca0: 726f 6772 6573 7369 6f6e 735b 6368 6f72  rogressions[chor
+0001acb0: 645f 696e 645d 2920 2d20 315d 2e6e 616d  d_ind]) - 1].nam
+0001acc0: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
+0001acd0: 2020 2020 6261 7373 5f6f 6374 6176 6529      bass_octave)
+0001ace0: 0d0a 2020 2020 2020 2020 2020 2020 6966  ..            if
+0001acf0: 2063 686f 6f73 655f 6261 7373 5f72 6879   choose_bass_rhy
+0001ad00: 7468 6d20 6973 204e 6f6e 653a 0d0a 2020  thm is None:..  
+0001ad10: 2020 2020 2020 2020 2020 2020 2020 6375                cu
+0001ad20: 7272 656e 745f 6261 7373 5f70 6172 7420  rrent_bass_part 
+0001ad30: 3d20 6368 6f72 6428 5b63 7572 7265 6e74  = chord([current
+0001ad40: 5f63 686f 7264 5f74 6f6e 6963 5d29 2025  _chord_tonic]) %
+0001ad50: 2028 0d0a 2020 2020 2020 2020 2020 2020   (..            
+0001ad60: 2020 2020 2020 2020 6375 7272 656e 745f          current_
+0001ad70: 6368 6f72 645f 6c65 6e67 7468 2c20 6375  chord_length, cu
+0001ad80: 7272 656e 745f 6368 6f72 645f 6c65 6e67  rrent_chord_leng
+0001ad90: 7468 290d 0a20 2020 2020 2020 2020 2020  th)..           
+0001ada0: 2065 6c73 653a 0d0a 2020 2020 2020 2020   else:..        
+0001adb0: 2020 2020 2020 2020 6375 7272 656e 745f          current_
+0001adc0: 6261 7373 5f70 6172 7420 3d20 6765 745f  bass_part = get_
+0001add0: 6368 6f72 6473 5f66 726f 6d5f 7268 7974  chords_from_rhyt
+0001ade0: 686d 280d 0a20 2020 2020 2020 2020 2020  hm(..           
+0001adf0: 2020 2020 2020 2020 2063 686f 7264 285b           chord([
+0001ae00: 6375 7272 656e 745f 6368 6f72 645f 746f  current_chord_to
+0001ae10: 6e69 635d 292c 0d0a 2020 2020 2020 2020  nic]),..        
+0001ae20: 2020 2020 2020 2020 2020 2020 7268 7974              rhyt
+0001ae30: 686d 282a 7261 6e64 6f6d 2e63 686f 6963  hm(*random.choic
+0001ae40: 6528 6368 6f6f 7365 5f62 6173 735f 7268  e(choose_bass_rh
+0001ae50: 7974 686d 2929 290d 0a20 2020 2020 2020  ythm)))..       
+0001ae60: 2020 2020 2020 2020 2069 6620 6375 7272           if curr
+0001ae70: 656e 745f 6261 7373 5f74 6563 686e 6971  ent_bass_techniq
+0001ae80: 7565 733a 0d0a 2020 2020 2020 2020 2020  ues:..          
+0001ae90: 2020 2020 2020 2020 2020 6966 2063 7572            if cur
+0001aea0: 7265 6e74 5f62 6173 735f 7465 6368 6e69  rent_bass_techni
+0001aeb0: 7175 6573 203d 3d20 276f 6374 6176 6573  ques == 'octaves
+0001aec0: 273a 0d0a 2020 2020 2020 2020 2020 2020  ':..            
+0001aed0: 2020 2020 2020 2020 2020 2020 6966 206c              if l
+0001aee0: 656e 2863 7572 7265 6e74 5f62 6173 735f  en(current_bass_
+0001aef0: 7061 7274 2920 3e20 313a 0d0a 2020 2020  part) > 1:..    
 0001af00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001af10: 2020 666f 7220 6920 696e 2072 616e 6765    for i in range
-0001af20: 286c 656e 2863 7572 7265 6e74 5f62 6173  (len(current_bas
-0001af30: 735f 7061 7274 2929 3a0d 0a20 2020 2020  s_part)):..     
-0001af40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001af50: 2020 2020 2020 2020 2020 2069 6620 6920             if i 
-0001af60: 2520 3220 213d 2030 3a0d 0a20 2020 2020  % 2 != 0:..     
-0001af70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001af80: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-0001af90: 7572 7265 6e74 5f62 6173 735f 7061 7274  urrent_bass_part
-0001afa0: 5b69 5d20 2b3d 2031 320d 0a20 2020 2020  [i] += 12..     
-0001afb0: 2020 2020 2020 2062 6173 735f 7061 7274         bass_part
-0001afc0: 207c 3d20 6375 7272 656e 745f 6261 7373   |= current_bass
-0001afd0: 5f70 6172 740d 0a20 2020 2020 2020 2077  _part..        w
-0001afe0: 6869 6c65 206d 656c 6f64 792e 6261 7273  hile melody.bars
-0001aff0: 286d 6f64 653d 3029 203c 206c 656e 6774  (mode=0) < lengt
-0001b000: 685f 636f 756e 743a 0d0a 2020 2020 2020  h_count:..      
-0001b010: 2020 2020 2020 6966 2073 6361 6c65 5f74        if scale_t
-0001b020: 7970 6532 3a0d 0a20 2020 2020 2020 2020  ype2:..         
-0001b030: 2020 2020 2020 2063 7572 7265 6e74 5f6d         current_m
-0001b040: 656c 6f64 7920 3d20 636f 7079 2872 616e  elody = copy(ran
-0001b050: 646f 6d2e 6368 6f69 6365 2873 6361 6c65  dom.choice(scale
-0001b060: 5f74 7970 6532 2e6e 6f74 6573 2929 0d0a  _type2.notes))..
-0001b070: 2020 2020 2020 2020 2020 2020 656c 7365              else
-0001b080: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-0001b090: 2020 2063 7572 7265 6e74 5f6d 656c 6f64     current_melod
-0001b0a0: 7920 3d20 636f 7079 280d 0a20 2020 2020  y = copy(..     
-0001b0b0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0001b0c0: 616e 646f 6d2e 6368 6f69 6365 2863 7572  andom.choice(cur
-0001b0d0: 7265 6e74 5f63 686f 7264 2e6e 6f74 6573  rent_chord.notes
-0001b0e0: 202b 2073 6361 6c65 5f74 7970 652e 6e6f   + scale_type.no
-0001b0f0: 7465 7329 290d 0a20 2020 2020 2020 2020  tes))..         
-0001b100: 2020 2020 2020 2063 7572 7265 6e74 5f6d         current_m
-0001b110: 656c 6f64 792e 6e75 6d20 3d20 6d65 6c6f  elody.num = melo
-0001b120: 6479 5f6f 6374 6176 650d 0a20 2020 2020  dy_octave..     
-0001b130: 2020 2020 2020 2063 7572 7265 6e74 5f63         current_c
-0001b140: 686f 7264 5f64 7572 6174 696f 6e20 3d20  hord_duration = 
-0001b150: 7261 6e64 6f6d 2e63 686f 6963 6528 6368  random.choice(ch
-0001b160: 6f6f 7365 5f6d 656c 6f64 795f 6475 7261  oose_melody_dura
-0001b170: 7469 6f6e 7329 0d0a 2020 2020 2020 2020  tions)..        
-0001b180: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
-0001b190: 6528 6375 7272 656e 745f 6368 6f72 645f  e(current_chord_
-0001b1a0: 6475 7261 7469 6f6e 2c20 6265 6174 293a  duration, beat):
-0001b1b0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0001b1c0: 2020 6375 7272 656e 745f 6368 6f72 645f    current_chord_
-0001b1d0: 6475 7261 7469 6f6e 203d 2063 7572 7265  duration = curre
-0001b1e0: 6e74 5f63 686f 7264 5f64 7572 6174 696f  nt_chord_duratio
-0001b1f0: 6e2e 6765 745f 6475 7261 7469 6f6e 2829  n.get_duration()
-0001b200: 0d0a 2020 2020 2020 2020 2020 2020 6375  ..            cu
-0001b210: 7272 656e 745f 6d65 6c6f 6479 2e64 7572  rrent_melody.dur
-0001b220: 6174 696f 6e20 3d20 6375 7272 656e 745f  ation = current_
-0001b230: 6368 6f72 645f 6475 7261 7469 6f6e 0d0a  chord_duration..
-0001b240: 2020 2020 2020 2020 2020 2020 6d65 6c6f              melo
-0001b250: 6479 2e6e 6f74 6573 2e61 7070 656e 6428  dy.notes.append(
-0001b260: 6375 7272 656e 745f 6d65 6c6f 6479 290d  current_melody).
-0001b270: 0a20 2020 2020 2020 2020 2020 206d 656c  .            mel
-0001b280: 6f64 792e 696e 7465 7276 616c 2e61 7070  ody.interval.app
-0001b290: 656e 6428 636f 7079 2863 7572 7265 6e74  end(copy(current
-0001b2a0: 5f6d 656c 6f64 792e 6475 7261 7469 6f6e  _melody.duration
-0001b2b0: 2929 0d0a 2020 2020 2020 2020 6368 6f72  ))..        chor
-0001b2c0: 645f 696e 6420 2b3d 2031 0d0a 2020 2020  d_ind += 1..    
-0001b2d0: 2020 2020 6966 2063 686f 7264 5f69 6e64      if chord_ind
-0001b2e0: 203e 3d20 6368 6f72 645f 6e75 6d3a 0d0a   >= chord_num:..
-0001b2f0: 2020 2020 2020 2020 2020 2020 6368 6f72              chor
-0001b300: 645f 696e 6420 3d20 300d 0a20 2020 2063  d_ind = 0..    c
-0001b310: 686f 7264 735f 7061 7274 2e73 6574 5f76  hords_part.set_v
-0001b320: 6f6c 756d 6528 3730 290d 0a20 2020 2072  olume(70)..    r
-0001b330: 6573 756c 7420 3d20 7069 6563 6528 7472  esult = piece(tr
-0001b340: 6163 6b73 3d5b 6d65 6c6f 6479 2c20 6368  acks=[melody, ch
-0001b350: 6f72 6473 5f70 6172 745d 2c0d 0a20 2020  ords_part],..   
-0001b360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b370: 696e 7374 7275 6d65 6e74 733d 5b6d 656c  instruments=[mel
-0001b380: 6f64 795f 696e 732c 2063 686f 7264 5f69  ody_ins, chord_i
-0001b390: 6e73 5d2c 0d0a 2020 2020 2020 2020 2020  ns],..          
-0001b3a0: 2020 2020 2020 2020 2062 706d 3d62 706d           bpm=bpm
-0001b3b0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-0001b3c0: 2020 2020 2020 7374 6172 745f 7469 6d65        start_time
-0001b3d0: 733d 5b30 2c20 7261 6e64 6f6d 2e63 686f  s=[0, random.cho
-0001b3e0: 6963 6528 6368 6f6f 7365 5f73 7461 7274  ice(choose_start
-0001b3f0: 5f74 696d 6573 295d 2c0d 0a20 2020 2020  _times)],..     
-0001b400: 2020 2020 2020 2020 2020 2020 2020 7472                tr
-0001b410: 6163 6b5f 6e61 6d65 733d 5b27 6d65 6c6f  ack_names=['melo
-0001b420: 6479 272c 2027 6368 6f72 6473 275d 2c0d  dy', 'chords'],.
-0001b430: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001b440: 2020 2020 6368 616e 6e65 6c73 3d5b 302c      channels=[0,
-0001b450: 2031 5d29 0d0a 2020 2020 7265 7375 6c74   1])..    result
-0001b460: 2e63 686f 6f73 655f 6368 6f72 645f 7072  .choose_chord_pr
-0001b470: 6f67 7265 7373 696f 6e73 203d 2063 686f  ogressions = cho
-0001b480: 6f73 655f 6368 6f72 645f 7072 6f67 7265  ose_chord_progre
-0001b490: 7373 696f 6e73 0d0a 2020 2020 6966 2077  ssions..    if w
-0001b4a0: 6974 685f 6472 756d 5f62 6561 7473 3a0d  ith_drum_beats:.
-0001b4b0: 0a20 2020 2020 2020 2063 7572 7265 6e74  .        current
-0001b4c0: 5f64 7275 6d5f 6265 6174 7320 3d20 6472  _drum_beats = dr
-0001b4d0: 756d 280d 0a20 2020 2020 2020 2020 2020  um(..           
-0001b4e0: 2072 616e 646f 6d2e 6368 6f69 6365 2864   random.choice(d
-0001b4f0: 6174 6162 6173 652e 6465 6661 756c 745f  atabase.default_
-0001b500: 6368 6f6f 7365 5f64 7275 6d5f 6265 6174  choose_drum_beat
-0001b510: 7329 290d 0a20 2020 2020 2020 2063 7572  s))..        cur
-0001b520: 7265 6e74 5f64 7275 6d5f 6265 6174 5f72  rent_drum_beat_r
-0001b530: 6570 6561 745f 6e75 6d20 3d20 6d61 7468  epeat_num = math
-0001b540: 2e63 6569 6c28 0d0a 2020 2020 2020 2020  .ceil(..        
-0001b550: 2020 2020 6c65 6e67 7468 202f 2063 7572      length / cur
-0001b560: 7265 6e74 5f64 7275 6d5f 6265 6174 732e  rent_drum_beats.
-0001b570: 6e6f 7465 732e 6261 7273 2829 290d 0a20  notes.bars()).. 
-0001b580: 2020 2020 2020 2063 7572 7265 6e74 5f64         current_d
-0001b590: 7275 6d5f 6265 6174 7320 2a3d 2063 7572  rum_beats *= cur
-0001b5a0: 7265 6e74 5f64 7275 6d5f 6265 6174 5f72  rent_drum_beat_r
-0001b5b0: 6570 6561 745f 6e75 6d0d 0a20 2020 2020  epeat_num..     
-0001b5c0: 2020 2063 7572 7265 6e74 5f64 7275 6d5f     current_drum_
-0001b5d0: 6265 6174 732e 6e6f 7465 732e 7365 745f  beats.notes.set_
-0001b5e0: 766f 6c75 6d65 2837 3029 0d0a 2020 2020  volume(70)..    
-0001b5f0: 2020 2020 7265 7375 6c74 2e61 7070 656e      result.appen
-0001b600: 6428 0d0a 2020 2020 2020 2020 2020 2020  d(..            
-0001b610: 7472 6163 6b28 636f 6e74 656e 743d 6375  track(content=cu
-0001b620: 7272 656e 745f 6472 756d 5f62 6561 7473  rrent_drum_beats
-0001b630: 2e6e 6f74 6573 2c0d 0a20 2020 2020 2020  .notes,..       
-0001b640: 2020 2020 2020 2020 2020 2069 6e73 7472             instr
-0001b650: 756d 656e 743d 6472 756d 5f69 6e73 2c0d  ument=drum_ins,.
-0001b660: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001b670: 2020 2073 7461 7274 5f74 696d 653d 7265     start_time=re
-0001b680: 7375 6c74 2e73 7461 7274 5f74 696d 6573  sult.start_times
-0001b690: 5b31 5d2c 0d0a 2020 2020 2020 2020 2020  [1],..          
-0001b6a0: 2020 2020 2020 2020 7472 6163 6b5f 6e61          track_na
-0001b6b0: 6d65 3d27 6472 756d 272c 0d0a 2020 2020  me='drum',..    
-0001b6c0: 2020 2020 2020 2020 2020 2020 2020 6368                ch
-0001b6d0: 616e 6e65 6c3d 3929 290d 0a20 2020 2069  annel=9))..    i
-0001b6e0: 6620 7769 7468 5f62 6173 733a 0d0a 2020  f with_bass:..  
-0001b6f0: 2020 2020 2020 6261 7373 5f70 6172 742e        bass_part.
-0001b700: 7365 745f 766f 6c75 6d65 2838 3029 0d0a  set_volume(80)..
-0001b710: 2020 2020 2020 2020 7265 7375 6c74 2e61          result.a
-0001b720: 7070 656e 6428 0d0a 2020 2020 2020 2020  ppend(..        
-0001b730: 2020 2020 7472 6163 6b28 636f 6e74 656e      track(conten
-0001b740: 743d 6261 7373 5f70 6172 742c 0d0a 2020  t=bass_part,..  
-0001b750: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b760: 696e 7374 7275 6d65 6e74 3d33 342c 0d0a  instrument=34,..
-0001b770: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b780: 2020 7374 6172 745f 7469 6d65 3d72 6573    start_time=res
-0001b790: 756c 742e 7374 6172 745f 7469 6d65 735b  ult.start_times[
-0001b7a0: 315d 2c0d 0a20 2020 2020 2020 2020 2020  1],..           
-0001b7b0: 2020 2020 2020 2074 7261 636b 5f6e 616d         track_nam
-0001b7c0: 653d 2762 6173 7327 2c0d 0a20 2020 2020  e='bass',..     
-0001b7d0: 2020 2020 2020 2020 2020 2020 2063 6861               cha
-0001b7e0: 6e6e 656c 3d32 2929 0d0a 2020 2020 7265  nnel=2))..    re
-0001b7f0: 7475 726e 2072 6573 756c 740d 0a         turn result..
+0001af10: 2020 2020 2020 2020 666f 7220 6920 696e          for i in
+0001af20: 2072 616e 6765 286c 656e 2863 7572 7265   range(len(curre
+0001af30: 6e74 5f62 6173 735f 7061 7274 2929 3a0d  nt_bass_part)):.
+0001af40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001af50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001af60: 2069 6620 6920 2520 3220 213d 2030 3a0d   if i % 2 != 0:.
+0001af70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001af80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001af90: 2020 2020 2063 7572 7265 6e74 5f62 6173       current_bas
+0001afa0: 735f 7061 7274 5b69 5d20 2b3d 2031 320d  s_part[i] += 12.
+0001afb0: 0a20 2020 2020 2020 2020 2020 2062 6173  .            bas
+0001afc0: 735f 7061 7274 207c 3d20 6375 7272 656e  s_part |= curren
+0001afd0: 745f 6261 7373 5f70 6172 740d 0a20 2020  t_bass_part..   
+0001afe0: 2020 2020 2077 6869 6c65 206d 656c 6f64       while melod
+0001aff0: 792e 6261 7273 286d 6f64 653d 3029 203c  y.bars(mode=0) <
+0001b000: 206c 656e 6774 685f 636f 756e 743a 0d0a   length_count:..
+0001b010: 2020 2020 2020 2020 2020 2020 6966 2073              if s
+0001b020: 6361 6c65 5f74 7970 6532 3a0d 0a20 2020  cale_type2:..   
+0001b030: 2020 2020 2020 2020 2020 2020 2063 7572               cur
+0001b040: 7265 6e74 5f6d 656c 6f64 7920 3d20 636f  rent_melody = co
+0001b050: 7079 2872 616e 646f 6d2e 6368 6f69 6365  py(random.choice
+0001b060: 2873 6361 6c65 5f74 7970 6532 2e6e 6f74  (scale_type2.not
+0001b070: 6573 2929 0d0a 2020 2020 2020 2020 2020  es))..          
+0001b080: 2020 656c 7365 3a0d 0a20 2020 2020 2020    else:..       
+0001b090: 2020 2020 2020 2020 2063 7572 7265 6e74           current
+0001b0a0: 5f6d 656c 6f64 7920 3d20 636f 7079 280d  _melody = copy(.
+0001b0b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001b0c0: 2020 2020 2072 616e 646f 6d2e 6368 6f69       random.choi
+0001b0d0: 6365 2863 7572 7265 6e74 5f63 686f 7264  ce(current_chord
+0001b0e0: 2e6e 6f74 6573 202b 2073 6361 6c65 5f74  .notes + scale_t
+0001b0f0: 7970 652e 6e6f 7465 7329 290d 0a20 2020  ype.notes))..   
+0001b100: 2020 2020 2020 2020 2020 2020 2063 7572               cur
+0001b110: 7265 6e74 5f6d 656c 6f64 792e 6e75 6d20  rent_melody.num 
+0001b120: 3d20 6d65 6c6f 6479 5f6f 6374 6176 650d  = melody_octave.
+0001b130: 0a20 2020 2020 2020 2020 2020 2063 7572  .            cur
+0001b140: 7265 6e74 5f63 686f 7264 5f64 7572 6174  rent_chord_durat
+0001b150: 696f 6e20 3d20 7261 6e64 6f6d 2e63 686f  ion = random.cho
+0001b160: 6963 6528 6368 6f6f 7365 5f6d 656c 6f64  ice(choose_melod
+0001b170: 795f 6475 7261 7469 6f6e 7329 0d0a 2020  y_durations)..  
+0001b180: 2020 2020 2020 2020 2020 6966 2069 7369            if isi
+0001b190: 6e73 7461 6e63 6528 6375 7272 656e 745f  nstance(current_
+0001b1a0: 6368 6f72 645f 6475 7261 7469 6f6e 2c20  chord_duration, 
+0001b1b0: 6265 6174 293a 0d0a 2020 2020 2020 2020  beat):..        
+0001b1c0: 2020 2020 2020 2020 6375 7272 656e 745f          current_
+0001b1d0: 6368 6f72 645f 6475 7261 7469 6f6e 203d  chord_duration =
+0001b1e0: 2063 7572 7265 6e74 5f63 686f 7264 5f64   current_chord_d
+0001b1f0: 7572 6174 696f 6e2e 6765 745f 6475 7261  uration.get_dura
+0001b200: 7469 6f6e 2829 0d0a 2020 2020 2020 2020  tion()..        
+0001b210: 2020 2020 6375 7272 656e 745f 6d65 6c6f      current_melo
+0001b220: 6479 2e64 7572 6174 696f 6e20 3d20 6375  dy.duration = cu
+0001b230: 7272 656e 745f 6368 6f72 645f 6475 7261  rrent_chord_dura
+0001b240: 7469 6f6e 0d0a 2020 2020 2020 2020 2020  tion..          
+0001b250: 2020 6d65 6c6f 6479 2e6e 6f74 6573 2e61    melody.notes.a
+0001b260: 7070 656e 6428 6375 7272 656e 745f 6d65  ppend(current_me
+0001b270: 6c6f 6479 290d 0a20 2020 2020 2020 2020  lody)..         
+0001b280: 2020 206d 656c 6f64 792e 696e 7465 7276     melody.interv
+0001b290: 616c 2e61 7070 656e 6428 636f 7079 2863  al.append(copy(c
+0001b2a0: 7572 7265 6e74 5f6d 656c 6f64 792e 6475  urrent_melody.du
+0001b2b0: 7261 7469 6f6e 2929 0d0a 2020 2020 2020  ration))..      
+0001b2c0: 2020 6368 6f72 645f 696e 6420 2b3d 2031    chord_ind += 1
+0001b2d0: 0d0a 2020 2020 2020 2020 6966 2063 686f  ..        if cho
+0001b2e0: 7264 5f69 6e64 203e 3d20 6368 6f72 645f  rd_ind >= chord_
+0001b2f0: 6e75 6d3a 0d0a 2020 2020 2020 2020 2020  num:..          
+0001b300: 2020 6368 6f72 645f 696e 6420 3d20 300d    chord_ind = 0.
+0001b310: 0a20 2020 2063 686f 7264 735f 7061 7274  .    chords_part
+0001b320: 2e73 6574 5f76 6f6c 756d 6528 3730 290d  .set_volume(70).
+0001b330: 0a20 2020 2072 6573 756c 7420 3d20 7069  .    result = pi
+0001b340: 6563 6528 7472 6163 6b73 3d5b 6d65 6c6f  ece(tracks=[melo
+0001b350: 6479 2c20 6368 6f72 6473 5f70 6172 745d  dy, chords_part]
+0001b360: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+0001b370: 2020 2020 2020 696e 7374 7275 6d65 6e74        instrument
+0001b380: 733d 5b6d 656c 6f64 795f 696e 732c 2063  s=[melody_ins, c
+0001b390: 686f 7264 5f69 6e73 5d2c 0d0a 2020 2020  hord_ins],..    
+0001b3a0: 2020 2020 2020 2020 2020 2020 2020 2062                 b
+0001b3b0: 706d 3d62 706d 2c0d 0a20 2020 2020 2020  pm=bpm,..       
+0001b3c0: 2020 2020 2020 2020 2020 2020 7374 6172              star
+0001b3d0: 745f 7469 6d65 733d 5b30 2c20 7261 6e64  t_times=[0, rand
+0001b3e0: 6f6d 2e63 686f 6963 6528 6368 6f6f 7365  om.choice(choose
+0001b3f0: 5f73 7461 7274 5f74 696d 6573 295d 2c0d  _start_times)],.
+0001b400: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001b410: 2020 2020 7472 6163 6b5f 6e61 6d65 733d      track_names=
+0001b420: 5b27 6d65 6c6f 6479 272c 2027 6368 6f72  ['melody', 'chor
+0001b430: 6473 275d 2c0d 0a20 2020 2020 2020 2020  ds'],..         
+0001b440: 2020 2020 2020 2020 2020 6368 616e 6e65            channe
+0001b450: 6c73 3d5b 302c 2031 5d29 0d0a 2020 2020  ls=[0, 1])..    
+0001b460: 7265 7375 6c74 2e63 686f 6f73 655f 6368  result.choose_ch
+0001b470: 6f72 645f 7072 6f67 7265 7373 696f 6e73  ord_progressions
+0001b480: 203d 2063 686f 6f73 655f 6368 6f72 645f   = choose_chord_
+0001b490: 7072 6f67 7265 7373 696f 6e73 0d0a 2020  progressions..  
+0001b4a0: 2020 6966 2077 6974 685f 6472 756d 5f62    if with_drum_b
+0001b4b0: 6561 7473 3a0d 0a20 2020 2020 2020 2063  eats:..        c
+0001b4c0: 7572 7265 6e74 5f64 7275 6d5f 6265 6174  urrent_drum_beat
+0001b4d0: 7320 3d20 6472 756d 280d 0a20 2020 2020  s = drum(..     
+0001b4e0: 2020 2020 2020 2072 616e 646f 6d2e 6368         random.ch
+0001b4f0: 6f69 6365 2864 6174 6162 6173 652e 6465  oice(database.de
+0001b500: 6661 756c 745f 6368 6f6f 7365 5f64 7275  fault_choose_dru
+0001b510: 6d5f 6265 6174 7329 290d 0a20 2020 2020  m_beats))..     
+0001b520: 2020 2063 7572 7265 6e74 5f64 7275 6d5f     current_drum_
+0001b530: 6265 6174 5f72 6570 6561 745f 6e75 6d20  beat_repeat_num 
+0001b540: 3d20 6d61 7468 2e63 6569 6c28 0d0a 2020  = math.ceil(..  
+0001b550: 2020 2020 2020 2020 2020 6c65 6e67 7468            length
+0001b560: 202f 2063 7572 7265 6e74 5f64 7275 6d5f   / current_drum_
+0001b570: 6265 6174 732e 6e6f 7465 732e 6261 7273  beats.notes.bars
+0001b580: 2829 290d 0a20 2020 2020 2020 2063 7572  ())..        cur
+0001b590: 7265 6e74 5f64 7275 6d5f 6265 6174 7320  rent_drum_beats 
+0001b5a0: 2a3d 2063 7572 7265 6e74 5f64 7275 6d5f  *= current_drum_
+0001b5b0: 6265 6174 5f72 6570 6561 745f 6e75 6d0d  beat_repeat_num.
+0001b5c0: 0a20 2020 2020 2020 2063 7572 7265 6e74  .        current
+0001b5d0: 5f64 7275 6d5f 6265 6174 732e 6e6f 7465  _drum_beats.note
+0001b5e0: 732e 7365 745f 766f 6c75 6d65 2837 3029  s.set_volume(70)
+0001b5f0: 0d0a 2020 2020 2020 2020 7265 7375 6c74  ..        result
+0001b600: 2e61 7070 656e 6428 0d0a 2020 2020 2020  .append(..      
+0001b610: 2020 2020 2020 7472 6163 6b28 636f 6e74        track(cont
+0001b620: 656e 743d 6375 7272 656e 745f 6472 756d  ent=current_drum
+0001b630: 5f62 6561 7473 2e6e 6f74 6573 2c0d 0a20  _beats.notes,.. 
+0001b640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b650: 2069 6e73 7472 756d 656e 743d 6472 756d   instrument=drum
+0001b660: 5f69 6e73 2c0d 0a20 2020 2020 2020 2020  _ins,..         
+0001b670: 2020 2020 2020 2020 2073 7461 7274 5f74           start_t
+0001b680: 696d 653d 7265 7375 6c74 2e73 7461 7274  ime=result.start
+0001b690: 5f74 696d 6573 5b31 5d2c 0d0a 2020 2020  _times[1],..    
+0001b6a0: 2020 2020 2020 2020 2020 2020 2020 7472                tr
+0001b6b0: 6163 6b5f 6e61 6d65 3d27 6472 756d 272c  ack_name='drum',
+0001b6c0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001b6d0: 2020 2020 6368 616e 6e65 6c3d 3929 290d      channel=9)).
+0001b6e0: 0a20 2020 2069 6620 7769 7468 5f62 6173  .    if with_bas
+0001b6f0: 733a 0d0a 2020 2020 2020 2020 6261 7373  s:..        bass
+0001b700: 5f70 6172 742e 7365 745f 766f 6c75 6d65  _part.set_volume
+0001b710: 2838 3029 0d0a 2020 2020 2020 2020 7265  (80)..        re
+0001b720: 7375 6c74 2e61 7070 656e 6428 0d0a 2020  sult.append(..  
+0001b730: 2020 2020 2020 2020 2020 7472 6163 6b28            track(
+0001b740: 636f 6e74 656e 743d 6261 7373 5f70 6172  content=bass_par
+0001b750: 742c 0d0a 2020 2020 2020 2020 2020 2020  t,..            
+0001b760: 2020 2020 2020 696e 7374 7275 6d65 6e74        instrument
+0001b770: 3d33 342c 0d0a 2020 2020 2020 2020 2020  =34,..          
+0001b780: 2020 2020 2020 2020 7374 6172 745f 7469          start_ti
+0001b790: 6d65 3d72 6573 756c 742e 7374 6172 745f  me=result.start_
+0001b7a0: 7469 6d65 735b 315d 2c0d 0a20 2020 2020  times[1],..     
+0001b7b0: 2020 2020 2020 2020 2020 2020 2074 7261               tra
+0001b7c0: 636b 5f6e 616d 653d 2762 6173 7327 2c0d  ck_name='bass',.
+0001b7d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001b7e0: 2020 2063 6861 6e6e 656c 3d32 2929 0d0a     channel=2))..
+0001b7f0: 2020 2020 7265 7475 726e 2072 6573 756c      return resul
+0001b800: 740d 0a                                  t..
```

### Comparing `musicpy-6.78/musicpy/control.py` & `musicpy-6.79/musicpy/control.py`

 * *Files identical despite different names*

### Comparing `musicpy-6.78/musicpy/database.py` & `musicpy-6.79/musicpy/database.py`

 * *Files identical despite different names*

### Comparing `musicpy-6.78/musicpy/daw.py` & `musicpy-6.79/musicpy/daw.py`

 * *Files identical despite different names*

### Comparing `musicpy-6.78/musicpy/musicpy.py` & `musicpy-6.79/musicpy/musicpy.py`

 * *Files identical despite different names*

### Comparing `musicpy-6.78/musicpy/structures.py` & `musicpy-6.79/musicpy/structures.py`

 * *Files identical despite different names*

### Comparing `musicpy-6.78/musicpy.egg-info/PKG-INFO` & `musicpy-6.79/musicpy.egg-info/PKG-INFO`

 * *Files 0% similar despite different names*

```diff
@@ -1,16 +1,16 @@
 Metadata-Version: 2.1
 Name: musicpy
-Version: 6.78
+Version: 6.79
 Summary: Musicpy is a music programming language in Python designed to write music in very handy syntax through music theory and algorithms.
 Home-page: https://github.com/Rainbow-Dreamer/musicpy.git
 Author: Rainbow-Dreamer
 Author-email: 1036889495@qq.com
 License: LGPLv2.1
-Download-URL: https://github.com/Rainbow-Dreamer/musicpy/archive/6.78.tar.gz
+Download-URL: https://github.com/Rainbow-Dreamer/musicpy/archive/6.79.tar.gz
 Description: musicpy
         =======
         [中文](https://github.com/Rainbow-Dreamer/musicpy/blob/master/README_cn.md)
         
         Have you ever thought about writing music with codes in a very concise, human-readable syntax?
         
         Musicpy is a music programming language in Python designed to write music in very handy syntax through music theory and algorithms. It is easy to learn and write, easy to read, and incorporates a fully computerized music theory system.
```

### Comparing `musicpy-6.78/setup.py` & `musicpy-6.79/setup.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,22 +1,22 @@
 from setuptools import setup, find_packages
 
 setup(
     name='musicpy',
     packages=find_packages(),
     package_data={'musicpy': ['./*']},
-    version='6.78',
+    version='6.79',
     license='LGPLv2.1',
     description=
     'Musicpy is a music programming language in Python designed to write music in very handy syntax through music theory and algorithms.',
     author='Rainbow-Dreamer',
     author_email='1036889495@qq.com',
     url='https://github.com/Rainbow-Dreamer/musicpy.git',
     download_url=
-    'https://github.com/Rainbow-Dreamer/musicpy/archive/6.78.tar.gz',
+    'https://github.com/Rainbow-Dreamer/musicpy/archive/6.79.tar.gz',
     keywords=[
         'music language', 'use codes to write music', 'music language for AI'
     ],
     install_requires=['mido-fix', 'pygame', 'dataclasses'],
     classifiers=[
         'Development Status :: 3 - Alpha',
         'Intended Audience :: Developers',
```

